<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.306">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="phonchi">
<meta name="dcterms.date" content="2023-02-20">

<title>Practical and Innovative Analytics in Data Science - 3&nbsp; Framing the problem and constructing the dataset</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./03_Relational_Database_and_data_wrangling.html" rel="next">
<link href="./01_end_to_end_machine_learning_project.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script src="https://unpkg.com/@jupyter-widgets/html-manager@*/dist/embed-amd.js" crossorigin="anonymous"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./02_Dataset.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Framing the problem and constructing the dataset</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Practical and Innovative Analytics in Data Science</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Preface</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_end_to_end_machine_learning_project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">End-to-end Machine Learning project</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_Dataset.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Framing the problem and constructing the dataset</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_Relational_Database_and_data_wrangling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Relational Database and data wrangling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_Clean_feature_engineering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data cleaning and feature engineering</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_Feature_selection_extraction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Feature selection and extraction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_XAI.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Explainable AI</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_Deploy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Deploy and monitoring</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./NumPy_tutorial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Numpy - multidimensional data arrays for python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Colab_tutorial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Introduction to Colab</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./kaggle-explore.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Introduction to Kaggle</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#setup" id="toc-setup" class="nav-link active" data-scroll-target="#setup"><span class="header-section-number">3.1</span> Setup</a></li>
  <li><a href="#scraping-data-using-beautifulsoup" id="toc-scraping-data-using-beautifulsoup" class="nav-link" data-scroll-target="#scraping-data-using-beautifulsoup"><span class="header-section-number">3.2</span> Scraping data using BeautifulSoup</a></li>
  <li><a href="#manual-labeling-with-pigeonxt" id="toc-manual-labeling-with-pigeonxt" class="nav-link" data-scroll-target="#manual-labeling-with-pigeonxt"><span class="header-section-number">3.3</span> Manual Labeling with pigeonXT</a>
  <ul class="collapse">
  <li><a href="#image-classification" id="toc-image-classification" class="nav-link" data-scroll-target="#image-classification"><span class="header-section-number">3.3.1</span> Image classification</a></li>
  <li><a href="#binary-or-multi-class-text-classification" id="toc-binary-or-multi-class-text-classification" class="nav-link" data-scroll-target="#binary-or-multi-class-text-classification"><span class="header-section-number">3.3.2</span> Binary or multi-class text classification</a></li>
  <li><a href="#multi-label-text-classification" id="toc-multi-label-text-classification" class="nav-link" data-scroll-target="#multi-label-text-classification"><span class="header-section-number">3.3.3</span> Multi-label text classification</a></li>
  </ul></li>
  <li><a href="#improve-consensus-labels-for-multiannotator-data-with-cleanlab" id="toc-improve-consensus-labels-for-multiannotator-data-with-cleanlab" class="nav-link" data-scroll-target="#improve-consensus-labels-for-multiannotator-data-with-cleanlab"><span class="header-section-number">3.4</span> Improve Consensus Labels for Multiannotator Data with Cleanlab</a>
  <ul class="collapse">
  <li><a href="#get-majority-vote-labels-and-compute-out-of-sample-predicted-probabilites" id="toc-get-majority-vote-labels-and-compute-out-of-sample-predicted-probabilites" class="nav-link" data-scroll-target="#get-majority-vote-labels-and-compute-out-of-sample-predicted-probabilites"><span class="header-section-number">3.4.1</span> Get majority vote labels and compute out-of-sample predicted probabilites</a></li>
  <li><a href="#use-cleanlab-to-get-better-consensus-labels-and-other-statistics" id="toc-use-cleanlab-to-get-better-consensus-labels-and-other-statistics" class="nav-link" data-scroll-target="#use-cleanlab-to-get-better-consensus-labels-and-other-statistics"><span class="header-section-number">3.4.2</span> Use cleanlab to get better consensus labels and other statistics</a></li>
  </ul></li>
  <li><a href="#active-learning-with-modal" id="toc-active-learning-with-modal" class="nav-link" data-scroll-target="#active-learning-with-modal"><span class="header-section-number">3.5</span> Active Learning with modAL</a>
  <ul class="collapse">
  <li><a href="#initializing-the-learner" id="toc-initializing-the-learner" class="nav-link" data-scroll-target="#initializing-the-learner"><span class="header-section-number">3.5.1</span> Initializing the learner</a></li>
  <li><a href="#the-active-learning-loop" id="toc-the-active-learning-loop" class="nav-link" data-scroll-target="#the-active-learning-loop"><span class="header-section-number">3.5.2</span> The active learning loop</a></li>
  <li><a href="#iris-example" id="toc-iris-example" class="nav-link" data-scroll-target="#iris-example"><span class="header-section-number">3.5.3</span> Iris example</a></li>
  </ul></li>
  <li><a href="#weak-supervison-using-snorkel" id="toc-weak-supervison-using-snorkel" class="nav-link" data-scroll-target="#weak-supervison-using-snorkel"><span class="header-section-number">3.6</span> Weak Supervison using Snorkel</a>
  <ul class="collapse">
  <li><a href="#loading-data" id="toc-loading-data" class="nav-link" data-scroll-target="#loading-data"><span class="header-section-number">3.6.1</span> Loading Data</a></li>
  <li><a href="#writing-labeling-functions-lfs" id="toc-writing-labeling-functions-lfs" class="nav-link" data-scroll-target="#writing-labeling-functions-lfs"><span class="header-section-number">3.6.2</span> Writing Labeling Functions (LFs)</a></li>
  <li><a href="#training-a-classifier" id="toc-training-a-classifier" class="nav-link" data-scroll-target="#training-a-classifier"><span class="header-section-number">3.6.3</span> Training a Classifier</a></li>
  </ul></li>
  <li><a href="#data-augmentation-using-albumentations" id="toc-data-augmentation-using-albumentations" class="nav-link" data-scroll-target="#data-augmentation-using-albumentations"><span class="header-section-number">3.7</span> Data augmentation using Albumentations</a></li>
  <li><a href="#reference" id="toc-reference" class="nav-link" data-scroll-target="#reference"><span class="header-section-number">3.8</span> Reference</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Framing the problem and constructing the dataset</span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>phonchi </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 20, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>


<table align="left">
<tbody><tr><td>
<a href="https://colab.research.google.com/github/phonchi/nsysu-math608/blob/master/static_files/presentations/02_Dataset.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"></a>
</td>
<td>
<a target="_blank" href="https://kaggle.com/kernels/welcome?src=https://github.com/phonchi/nsysu-math608/blob/master/static_files/presentations/02_Dataset.ipynb"><img src="https://kaggle.com/static/images/open-in-kaggle.svg"></a>
</td>

</tr></tbody></table>
<p><br></p>
<section id="setup" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="setup"><span class="header-section-number">3.1</span> Setup</h2>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:57752,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676862071866,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="17d25047-7cb1-42c5-97d5-63ac188a8209">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="op">!</span>pip install git<span class="op">+</span>https:<span class="op">//</span>github.com<span class="op">/</span>phonchi<span class="op">/</span>pigeonXT.git </span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="op">!</span>pip install cleanlab <span class="op">-</span>qq</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="op">!</span>pip install modAL <span class="op">-</span>qq</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="op">!</span>pip install snorkel <span class="op">-</span>qq</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Looking in indexes: https://pypi.org/simple, https://us-python.pkg.dev/colab-wheels/public/simple/
Collecting git+https://github.com/phonchi/pigeonXT.git
  Cloning https://github.com/phonchi/pigeonXT.git to /tmp/pip-req-build-3jpt3q7q
  Running command git clone --filter=blob:none --quiet https://github.com/phonchi/pigeonXT.git /tmp/pip-req-build-3jpt3q7q
  Resolved https://github.com/phonchi/pigeonXT.git to commit 6564faf5101f33724a63a36231f74a3c4fa2ff3c
  Installing build dependencies ... done
  Getting requirements to build wheel ... done
  Preparing metadata (pyproject.toml) ... done
Collecting numpy&lt;2.0,&gt;=1.23
  Downloading numpy-1.24.2-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (17.3 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 17.3/17.3 MB 38.4 MB/s eta 0:00:00
Requirement already satisfied: pandas&lt;2.0,&gt;=1.3 in /usr/local/lib/python3.8/dist-packages (from pigeonxt-jupyter==0.7.3) (1.3.5)
Requirement already satisfied: pytz&gt;=2017.3 in /usr/local/lib/python3.8/dist-packages (from pandas&lt;2.0,&gt;=1.3-&gt;pigeonxt-jupyter==0.7.3) (2022.7.1)
Requirement already satisfied: python-dateutil&gt;=2.7.3 in /usr/local/lib/python3.8/dist-packages (from pandas&lt;2.0,&gt;=1.3-&gt;pigeonxt-jupyter==0.7.3) (2.8.2)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.8/dist-packages (from python-dateutil&gt;=2.7.3-&gt;pandas&lt;2.0,&gt;=1.3-&gt;pigeonxt-jupyter==0.7.3) (1.15.0)
Building wheels for collected packages: pigeonxt-jupyter
  Building wheel for pigeonxt-jupyter (pyproject.toml) ... done
  Created wheel for pigeonxt-jupyter: filename=pigeonxt_jupyter-0.7.3-py3-none-any.whl size=12846 sha256=7c5f5b55a53ee9fc099d85c70fc907a29f7561eaf5a99a13f3b4e79d2ee8270d
  Stored in directory: /tmp/pip-ephem-wheel-cache-t836gymf/wheels/18/f0/1e/314aebea9e2497eb5ebe4d5eddf3243311bd319fc13a6aee71
Successfully built pigeonxt-jupyter
Installing collected packages: numpy, pigeonxt-jupyter
  Attempting uninstall: numpy
    Found existing installation: numpy 1.21.6
    Uninstalling numpy-1.21.6:
      Successfully uninstalled numpy-1.21.6
ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
scipy 1.7.3 requires numpy&lt;1.23.0,&gt;=1.16.5, but you have numpy 1.24.2 which is incompatible.
numba 0.56.4 requires numpy&lt;1.24,&gt;=1.18, but you have numpy 1.24.2 which is incompatible.
Successfully installed numpy-1.24.2 pigeonxt-jupyter-0.7.3
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 157.5/157.5 KB 6.7 MB/s eta 0:00:00
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 16.9/16.9 MB 49.1 MB/s eta 0:00:00
ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
pigeonxt-jupyter 0.7.3 requires numpy&lt;2.0,&gt;=1.23, but you have numpy 1.22.4 which is incompatible.
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 103.3/103.3 KB 6.0 MB/s eta 0:00:00</code></pre>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:11884,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676862766726,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="56a25e44-4aa5-4edc-f537-97936517d532">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Built-in function</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="im">import</span> glob</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="im">import</span> os</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="im">import</span> subprocess</span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="im">import</span> re</span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="im">import</span> random</span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co"># Scientific computing</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="im">from</span> IPython <span class="im">import</span> display</span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="im">import</span> matplotlib <span class="im">as</span> mpl</span>
<span id="cb3-13"><a href="#cb3-13"></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span>
<span id="cb3-14"><a href="#cb3-14"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb3-15"><a href="#cb3-15"></a></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="co"># Modeling</span></span>
<span id="cb3-17"><a href="#cb3-17"></a><span class="im">from</span> sklearn.datasets <span class="im">import</span> load_digits</span>
<span id="cb3-18"><a href="#cb3-18"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb3-19"><a href="#cb3-19"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> cross_val_predict</span>
<span id="cb3-20"><a href="#cb3-20"></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestClassifier</span>
<span id="cb3-21"><a href="#cb3-21"></a><span class="im">from</span> sklearn.decomposition <span class="im">import</span> PCA</span>
<span id="cb3-22"><a href="#cb3-22"></a><span class="im">from</span> sklearn.neighbors <span class="im">import</span> KNeighborsClassifier</span>
<span id="cb3-23"><a href="#cb3-23"></a><span class="im">from</span> sklearn.feature_extraction.text <span class="im">import</span> CountVectorizer</span>
<span id="cb3-24"><a href="#cb3-24"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LogisticRegression</span>
<span id="cb3-25"><a href="#cb3-25"></a></span>
<span id="cb3-26"><a href="#cb3-26"></a><span class="co"># Manual labeling</span></span>
<span id="cb3-27"><a href="#cb3-27"></a><span class="im">import</span> pigeonXT <span class="im">as</span> pixt</span>
<span id="cb3-28"><a href="#cb3-28"></a></span>
<span id="cb3-29"><a href="#cb3-29"></a><span class="co"># Concensus algorithm</span></span>
<span id="cb3-30"><a href="#cb3-30"></a><span class="im">from</span> cleanlab.multiannotator <span class="im">import</span> get_label_quality_multiannotator, get_majority_vote_label</span>
<span id="cb3-31"><a href="#cb3-31"></a><span class="im">from</span> cleanlab.benchmarking.noise_generation <span class="im">import</span> generate_noise_matrix_from_trace</span>
<span id="cb3-32"><a href="#cb3-32"></a><span class="im">from</span> cleanlab.benchmarking.noise_generation <span class="im">import</span> generate_noisy_labels</span>
<span id="cb3-33"><a href="#cb3-33"></a></span>
<span id="cb3-34"><a href="#cb3-34"></a><span class="co"># Active learning</span></span>
<span id="cb3-35"><a href="#cb3-35"></a><span class="im">from</span> modAL.models <span class="im">import</span> ActiveLearner</span>
<span id="cb3-36"><a href="#cb3-36"></a><span class="im">from</span> modAL.uncertainty <span class="im">import</span> uncertainty_sampling</span>
<span id="cb3-37"><a href="#cb3-37"></a></span>
<span id="cb3-38"><a href="#cb3-38"></a><span class="co"># Weak supervision</span></span>
<span id="cb3-39"><a href="#cb3-39"></a><span class="im">from</span> snorkel.labeling <span class="im">import</span> PandasLFApplier</span>
<span id="cb3-40"><a href="#cb3-40"></a><span class="im">from</span> snorkel.labeling <span class="im">import</span> labeling_function</span>
<span id="cb3-41"><a href="#cb3-41"></a><span class="im">from</span> snorkel.labeling <span class="im">import</span> LFAnalysis</span>
<span id="cb3-42"><a href="#cb3-42"></a><span class="im">from</span> snorkel.labeling <span class="im">import</span> LabelingFunction</span>
<span id="cb3-43"><a href="#cb3-43"></a><span class="im">from</span> snorkel.labeling.model <span class="im">import</span> MajorityLabelVoter</span>
<span id="cb3-44"><a href="#cb3-44"></a><span class="im">from</span> snorkel.labeling.model <span class="im">import</span> LabelModel</span>
<span id="cb3-45"><a href="#cb3-45"></a><span class="im">from</span> snorkel.labeling <span class="im">import</span> filter_unlabeled_dataframe</span>
<span id="cb3-46"><a href="#cb3-46"></a><span class="im">from</span> snorkel.utils <span class="im">import</span> probs_to_preds</span>
<span id="cb3-47"><a href="#cb3-47"></a><span class="im">from</span> snorkel.preprocess.nlp <span class="im">import</span> SpacyPreprocessor</span>
<span id="cb3-48"><a href="#cb3-48"></a><span class="im">from</span> snorkel.labeling.lf.nlp <span class="im">import</span> nlp_labeling_function</span>
<span id="cb3-49"><a href="#cb3-49"></a></span>
<span id="cb3-50"><a href="#cb3-50"></a><span class="co"># Data augmentation</span></span>
<span id="cb3-51"><a href="#cb3-51"></a><span class="im">from</span> skimage <span class="im">import</span> io</span>
<span id="cb3-52"><a href="#cb3-52"></a><span class="im">import</span> albumentations <span class="im">as</span> A</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>/usr/local/lib/python3.8/dist-packages/torch/cuda/__init__.py:497: UserWarning: Can't initialize NVML
  warnings.warn("Can't initialize NVML")</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">def</span> visualize(image):</span>
<span id="cb5-2"><a href="#cb5-2"></a>    plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">10</span>))</span>
<span id="cb5-3"><a href="#cb5-3"></a>    plt.axis(<span class="st">'off'</span>)</span>
<span id="cb5-4"><a href="#cb5-4"></a>    plt.imshow(image)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="scraping-data-using-beautifulsoup" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="scraping-data-using-beautifulsoup"><span class="header-section-number">3.2</span> Scraping data using BeautifulSoup</h2>
<p>Sometimes we have to build our dataset using crawler. See 1. <a href="https://github.com/marvelje/weather_forecasting">https://github.com/marvelje/weather_forecasting</a> (Constructing weather dataset) 2. <a href="https://www.kaggle.com/code/pandula/a-simple-tutorial-on-beautifulsoup/notebook">https://www.kaggle.com/code/pandula/a-simple-tutorial-on-beautifulsoup/notebook</a> (Constructing IMDB dataset) 3. <a href="https://github.com/sharmasapna/Web-scraping-for-images">https://github.com/sharmasapna/Web-scraping-for-images</a> (Constructing image dataset)</p>
</section>
<section id="manual-labeling-with-pigeonxt" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="manual-labeling-with-pigeonxt"><span class="header-section-number">3.3</span> Manual Labeling with pigeonXT</h2>
<p>In many data science projects, the first step at which the data science team gets involved is in labeling the image data. Even if the labeling will be automated, the first few images in a proof of concept are almost always hand-labeled. The form and organization will differ based on the problem type (image classification or object detection) and whether an image can have multiple labels or only one. To hand-label images, a rater views the image, determines the label(s), and records the label(s). There are two typical approaches to doing this recording: using a <strong>folder structure</strong> and a <strong>metadata table.</strong></p>
<p>In a folder organization, raters simply move images to different folders depending on what their label is. All flowers that are daisies are stored in a folder named <em>daisy</em>, for example. Raters can do this quickly because most operating systems provide previews of images and handy ways to select groups of images and move them into folders.</p>
<p>The problem with the folder approach is that it leads to duplication if an image can have multiple labels—for example, if an image contains both <em>roses</em> and <em>daisies</em>. The alternative, and recommended, approach is to record the label(s) in a metadata table (such as in a spreadsheet or a CSV file) that has at least two columns - one column is the filename of the image file, and the other is the list of labels that are valid for the image.</p>
<p>A labeling tool should have a facility to display the image, and enable the rater to quickly select valid categories and save the rating to a database. We will use <code>pigeonXT</code> which is a wrapper of Jupyter widget next.</p>
<section id="image-classification" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="image-classification"><span class="header-section-number">3.3.1</span> Image classification</h3>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:7767,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676862959368,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="d1867a3d-7413-4197-9232-7b7d5837b77e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1"></a><span class="op">%%</span>bash</span>
<span id="cb6-2"><a href="#cb6-2"></a>mkdir flower_images</span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="dv">100080576</span><span class="er">_f52e8ee070_n</span>.jpg <span class="dv">10140303196</span><span class="er">_b88d3d6cec</span>.jpg <span class="dv">10172379554</span><span class="er">_b296050f82_n</span>.jpg<span class="op">;</span> do</span>
<span id="cb6-4"><a href="#cb6-4"></a>  gsutil cp gs:<span class="op">//</span>practical<span class="op">-</span>ml<span class="op">-</span>vision<span class="op">-</span>book<span class="op">/</span>flowers_5_jpeg<span class="op">/</span>flower_photos<span class="op">/</span>daisy<span class="op">/</span>$filename flower_images</span>
<span id="cb6-5"><a href="#cb6-5"></a>done</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Copying gs://practical-ml-vision-book/flowers_5_jpeg/flower_photos/daisy/100080576_f52e8ee070_n.jpg...
/ [0 files][    0.0 B/ 26.2 KiB]                                                / [1 files][ 26.2 KiB/ 26.2 KiB]                                                
Operation completed over 1 objects/26.2 KiB.                                     
Copying gs://practical-ml-vision-book/flowers_5_jpeg/flower_photos/daisy/10140303196_b88d3d6cec.jpg...
/ [0 files][    0.0 B/114.5 KiB]                                                / [1 files][114.5 KiB/114.5 KiB]                                                
Operation completed over 1 objects/114.5 KiB.                                    
Copying gs://practical-ml-vision-book/flowers_5_jpeg/flower_photos/daisy/10172379554_b296050f82_n.jpg...
/ [0 files][    0.0 B/ 35.6 KiB]                                                / [1 files][ 35.6 KiB/ 35.6 KiB]                                                
Operation completed over 1 objects/35.6 KiB.                                     </code></pre>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:269,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863009633,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="fb8dc7b0-af90-4c88-b404-09241c1971b0">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a>filenames <span class="op">=</span> glob.glob(<span class="st">'flower_images/*.jpg'</span>)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="bu">print</span>(filenames)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>['flower_images/10140303196_b88d3d6cec.jpg', 'flower_images/100080576_f52e8ee070_n.jpg', 'flower_images/10172379554_b296050f82_n.jpg']</code></pre>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:796,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863084065,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="65262cb3-82ef-4f09-847a-0e1cc4bebc63">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1"></a>annotations <span class="op">=</span> pixt.annotate(</span>
<span id="cb10-2"><a href="#cb10-2"></a>      filenames,</span>
<span id="cb10-3"><a href="#cb10-3"></a>      options<span class="op">=</span>[<span class="st">'daisy'</span>, <span class="st">'tulip'</span>, <span class="st">'rose'</span>],</span>
<span id="cb10-4"><a href="#cb10-4"></a>      display_fn<span class="op">=</span><span class="kw">lambda</span> filename: display.display(display.Image(filename))</span>
<span id="cb10-5"><a href="#cb10-5"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"7130e39d43854b3bb3ecd9b445e495b0","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"86505597d16045a1b8f63bf0909652e7","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"6620f1ef55654a21bfa1ffd6422d977a","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Annotation done.</code></pre>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:269,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863131111,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="8fe0348f-1ba8-48f5-b4e3-85f5e9ab82e0">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1"></a>annotations</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="7">

  <div id="df-1eff3f22-9b78-4f6b-a14e-3746daa0e9dd">
    <div class="colab-df-container">
      <div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">example</th>
<th data-quarto-table-cell-role="th">changed</th>
<th data-quarto-table-cell-role="th">label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>flower_images/10140303196_b88d3d6cec.jpg</td>
<td>False</td>
<td></td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>flower_images/100080576_f52e8ee070_n.jpg</td>
<td>True</td>
<td>daisy</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>flower_images/10172379554_b296050f82_n.jpg</td>
<td>True</td>
<td>daisy</td>
</tr>
</tbody>
</table>


</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-1eff3f22-9b78-4f6b-a14e-3746daa0e9dd')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-1eff3f22-9b78-4f6b-a14e-3746daa0e9dd button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-1eff3f22-9b78-4f6b-a14e-3746daa0e9dd');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
</section>
<section id="binary-or-multi-class-text-classification" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="binary-or-multi-class-text-classification"><span class="header-section-number">3.3.2</span> Binary or multi-class text classification</h3>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:309,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863203973,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="870c273b-1036-483f-967a-4ce72e050693">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a>annotations <span class="op">=</span> pixt.annotate(</span>
<span id="cb13-2"><a href="#cb13-2"></a>        [<span class="st">'I love this movie'</span>, <span class="st">'I was really disappointed by the book'</span>],</span>
<span id="cb13-3"><a href="#cb13-3"></a>        options<span class="op">=</span>[<span class="st">'positive'</span>, <span class="st">'negative'</span>, <span class="st">'inbetween'</span>]</span>
<span id="cb13-4"><a href="#cb13-4"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"a5705a66a99e48c29666efb634badba3","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"14bfc2a806354794aa4114efb44e8e5e","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"93bac7c2e7404940a37034605de2745c","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Annotation done.</code></pre>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:463,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863236965,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="4f29435a-4349-453b-9c20-e0289ea1f6e0">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a>annotations</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="9">

  <div id="df-6cadc0ee-efd7-4960-83b8-267c084ff9e7">
    <div class="colab-df-container">
      <div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">example</th>
<th data-quarto-table-cell-role="th">changed</th>
<th data-quarto-table-cell-role="th">label</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>I love this movie</td>
<td>True</td>
<td>positive</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>I was really disappointed by the book</td>
<td>True</td>
<td>negative</td>
</tr>
</tbody>
</table>


</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-6cadc0ee-efd7-4960-83b8-267c084ff9e7')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-6cadc0ee-efd7-4960-83b8-267c084ff9e7 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-6cadc0ee-efd7-4960-83b8-267c084ff9e7');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<p>The output can be save to a CSV or JSON file.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1"></a>annotations.to_csv(<span class="st">"text_class_dataset.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="multi-label-text-classification" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="multi-label-text-classification"><span class="header-section-number">3.3.3</span> Multi-label text classification</h3>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:309,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863287760,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="e1b80dac-52f8-451a-d9d4-52118d2ab401">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a>df <span class="op">=</span> pd.DataFrame([</span>
<span id="cb17-2"><a href="#cb17-2"></a>        {<span class="st">'example'</span>: <span class="st">'Star wars'</span>},    </span>
<span id="cb17-3"><a href="#cb17-3"></a>        {<span class="st">'example'</span>: <span class="st">'The Positively True Adventures of the Alleged Texas Cheerleader-Murdering Mom'</span>},</span>
<span id="cb17-4"><a href="#cb17-4"></a>        {<span class="st">'example'</span>: <span class="st">'Eternal Sunshine of the Spotless Mind'</span>},</span>
<span id="cb17-5"><a href="#cb17-5"></a>        {<span class="st">'example'</span>: <span class="st">'Dr. Strangelove or: How I Learned to Stop Worrying and Love the Bomb'</span>},    </span>
<span id="cb17-6"><a href="#cb17-6"></a>        {<span class="st">'example'</span>: <span class="st">'Killer klowns from outer space'</span>},    </span>
<span id="cb17-7"><a href="#cb17-7"></a>    ])</span>
<span id="cb17-8"><a href="#cb17-8"></a></span>
<span id="cb17-9"><a href="#cb17-9"></a>labels <span class="op">=</span> [<span class="st">'Adventure'</span>, <span class="st">'Romance'</span>, <span class="st">'Fantasy'</span>, <span class="st">'Science fiction'</span>, <span class="st">'Horror'</span>, <span class="st">'Thriller'</span>]</span>
<span id="cb17-10"><a href="#cb17-10"></a>    </span>
<span id="cb17-11"><a href="#cb17-11"></a>annotations <span class="op">=</span> pixt.annotate(</span>
<span id="cb17-12"><a href="#cb17-12"></a>        df, </span>
<span id="cb17-13"><a href="#cb17-13"></a>        options<span class="op">=</span>labels, </span>
<span id="cb17-14"><a href="#cb17-14"></a>        task_type<span class="op">=</span><span class="st">'multilabel-classification'</span>,</span>
<span id="cb17-15"><a href="#cb17-15"></a>        buttons_in_a_row<span class="op">=</span><span class="dv">3</span>,</span>
<span id="cb17-16"><a href="#cb17-16"></a>        reset_buttons_after_click<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb17-17"><a href="#cb17-17"></a>        include_next<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb17-18"><a href="#cb17-18"></a>        include_back<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb17-19"><a href="#cb17-19"></a>    )  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"00f6a70fb855469081f286ebf47caf85","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"a3212d8be4ea4a43a476c49dfeaa0800","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
<div class="cell-output cell-output-display">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id":"5452b723598f446db77b872d949fce56","version_major":2,"version_minor":0,"quarto_mimetype":"application/vnd.jupyter.widget-view+json"}
</script>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:288,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863360093,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="9c972332-712c-44a7-d282-a396f88b2fc7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a>annotations</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="12">

  <div id="df-0034bff2-6b4a-47d7-afed-5c2199b3906b">
    <div class="colab-df-container">
      <div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">example</th>
<th data-quarto-table-cell-role="th">changed</th>
<th data-quarto-table-cell-role="th">Adventure</th>
<th data-quarto-table-cell-role="th">Romance</th>
<th data-quarto-table-cell-role="th">Fantasy</th>
<th data-quarto-table-cell-role="th">Science fiction</th>
<th data-quarto-table-cell-role="th">Horror</th>
<th data-quarto-table-cell-role="th">Thriller</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Star wars</td>
<td>True</td>
<td>True</td>
<td>False</td>
<td>False</td>
<td>True</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>The Positively True Adventures of the Alleged ...</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Eternal Sunshine of the Spotless Mind</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Dr. Strangelove or: How I Learned to Stop Worr...</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Killer klowns from outer space</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
<td>False</td>
</tr>
</tbody>
</table>


</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-0034bff2-6b4a-47d7-afed-5c2199b3906b')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-0034bff2-6b4a-47d7-afed-5c2199b3906b button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-0034bff2-6b4a-47d7-afed-5c2199b3906b');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a>annotations.to_csv(<span class="st">"text_multilabel_dataset.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Anything that can be displayed on Jupyter (text, images, audio, graphs, etc.)can be displayed by pigeonXT by providing the appropriate <code>display_fn</code> argument.</p>
<p>Additionally, custom hooks can be attached to each row update (<code>example_process_fn</code>), or when the annotating task is complete(<code>final_process_fn</code>). See https://github.com/dennisbakhuis/pigeonXT for more details.</p>
</section>
</section>
<section id="improve-consensus-labels-for-multiannotator-data-with-cleanlab" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="improve-consensus-labels-for-multiannotator-data-with-cleanlab"><span class="header-section-number">3.4</span> Improve Consensus Labels for Multiannotator Data with Cleanlab</h2>
<p>This example contains classification data that has been labeled by multiple annotators (where each example has been labeled by at least one annotator, but not every annotator has labeled every example)</p>
<p>For this part, we will generate a toy dataset that has 50 annotators and 300 examples. There are three possible classes, 0, 1 and 2.</p>
<p>Each annotator annotates approximately 10% of the examples. We also synthetically made the last 5 annotators in our toy dataset have much noisier labels than the rest of the annotators. To generate our multiannotator data, we define a <code>make_data()</code> method</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1"></a>SEED <span class="op">=</span> <span class="dv">111</span> <span class="co"># set to None for non-reproducible randomness</span></span>
<span id="cb20-2"><a href="#cb20-2"></a>np.random.seed(seed<span class="op">=</span>SEED)</span>
<span id="cb20-3"><a href="#cb20-3"></a></span>
<span id="cb20-4"><a href="#cb20-4"></a><span class="kw">def</span> make_data(</span>
<span id="cb20-5"><a href="#cb20-5"></a>    means<span class="op">=</span>[[<span class="dv">3</span>, <span class="dv">2</span>], [<span class="dv">7</span>, <span class="dv">7</span>], [<span class="dv">0</span>, <span class="dv">8</span>]],</span>
<span id="cb20-6"><a href="#cb20-6"></a>    covs<span class="op">=</span>[[[<span class="dv">5</span>, <span class="op">-</span><span class="fl">1.5</span>], [<span class="op">-</span><span class="fl">1.5</span>, <span class="dv">1</span>]], [[<span class="dv">1</span>, <span class="fl">0.5</span>], [<span class="fl">0.5</span>, <span class="dv">4</span>]], [[<span class="dv">5</span>, <span class="dv">1</span>], [<span class="dv">1</span>, <span class="dv">5</span>]]],</span>
<span id="cb20-7"><a href="#cb20-7"></a>    sizes<span class="op">=</span>[<span class="dv">150</span>, <span class="dv">75</span>, <span class="dv">75</span>],</span>
<span id="cb20-8"><a href="#cb20-8"></a>    num_annotators<span class="op">=</span><span class="dv">50</span>,</span>
<span id="cb20-9"><a href="#cb20-9"></a>):</span>
<span id="cb20-10"><a href="#cb20-10"></a></span>
<span id="cb20-11"><a href="#cb20-11"></a>    m <span class="op">=</span> <span class="bu">len</span>(means)  <span class="co"># number of classes</span></span>
<span id="cb20-12"><a href="#cb20-12"></a>    n <span class="op">=</span> <span class="bu">sum</span>(sizes)</span>
<span id="cb20-13"><a href="#cb20-13"></a>    local_data <span class="op">=</span> []</span>
<span id="cb20-14"><a href="#cb20-14"></a>    labels <span class="op">=</span> []</span>
<span id="cb20-15"><a href="#cb20-15"></a></span>
<span id="cb20-16"><a href="#cb20-16"></a>    <span class="cf">for</span> idx <span class="kw">in</span> <span class="bu">range</span>(m):</span>
<span id="cb20-17"><a href="#cb20-17"></a>        local_data.append(</span>
<span id="cb20-18"><a href="#cb20-18"></a>            np.random.multivariate_normal(mean<span class="op">=</span>means[idx], cov<span class="op">=</span>covs[idx], size<span class="op">=</span>sizes[idx])</span>
<span id="cb20-19"><a href="#cb20-19"></a>        )</span>
<span id="cb20-20"><a href="#cb20-20"></a>        labels.append(np.array([idx <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(sizes[idx])]))</span>
<span id="cb20-21"><a href="#cb20-21"></a>    X_train <span class="op">=</span> np.vstack(local_data)</span>
<span id="cb20-22"><a href="#cb20-22"></a>    true_labels_train <span class="op">=</span> np.hstack(labels)</span>
<span id="cb20-23"><a href="#cb20-23"></a></span>
<span id="cb20-24"><a href="#cb20-24"></a>    <span class="co"># Compute p(true_label=k)</span></span>
<span id="cb20-25"><a href="#cb20-25"></a>    py <span class="op">=</span> np.bincount(true_labels_train) <span class="op">/</span> <span class="bu">float</span>(<span class="bu">len</span>(true_labels_train))</span>
<span id="cb20-26"><a href="#cb20-26"></a></span>
<span id="cb20-27"><a href="#cb20-27"></a>    noise_matrix_better <span class="op">=</span> generate_noise_matrix_from_trace(</span>
<span id="cb20-28"><a href="#cb20-28"></a>        m,</span>
<span id="cb20-29"><a href="#cb20-29"></a>        trace<span class="op">=</span><span class="fl">0.8</span> <span class="op">*</span> m,</span>
<span id="cb20-30"><a href="#cb20-30"></a>        py<span class="op">=</span>py,</span>
<span id="cb20-31"><a href="#cb20-31"></a>        valid_noise_matrix<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb20-32"><a href="#cb20-32"></a>        seed<span class="op">=</span>SEED,</span>
<span id="cb20-33"><a href="#cb20-33"></a>    )</span>
<span id="cb20-34"><a href="#cb20-34"></a></span>
<span id="cb20-35"><a href="#cb20-35"></a>    noise_matrix_worse <span class="op">=</span> generate_noise_matrix_from_trace(</span>
<span id="cb20-36"><a href="#cb20-36"></a>        m,</span>
<span id="cb20-37"><a href="#cb20-37"></a>        trace<span class="op">=</span><span class="fl">0.35</span> <span class="op">*</span> m,</span>
<span id="cb20-38"><a href="#cb20-38"></a>        py<span class="op">=</span>py,</span>
<span id="cb20-39"><a href="#cb20-39"></a>        valid_noise_matrix<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb20-40"><a href="#cb20-40"></a>        seed<span class="op">=</span>SEED,</span>
<span id="cb20-41"><a href="#cb20-41"></a>    )</span>
<span id="cb20-42"><a href="#cb20-42"></a></span>
<span id="cb20-43"><a href="#cb20-43"></a>    <span class="co"># Generate our noisy labels using the noise_matrix for specified number of annotators.</span></span>
<span id="cb20-44"><a href="#cb20-44"></a>    s <span class="op">=</span> pd.DataFrame(</span>
<span id="cb20-45"><a href="#cb20-45"></a>        np.vstack(</span>
<span id="cb20-46"><a href="#cb20-46"></a>            [</span>
<span id="cb20-47"><a href="#cb20-47"></a>                generate_noisy_labels(true_labels_train, noise_matrix_better)</span>
<span id="cb20-48"><a href="#cb20-48"></a>                <span class="cf">if</span> i <span class="op">&lt;</span> num_annotators <span class="op">-</span> <span class="dv">5</span></span>
<span id="cb20-49"><a href="#cb20-49"></a>                <span class="cf">else</span> generate_noisy_labels(true_labels_train, noise_matrix_worse)</span>
<span id="cb20-50"><a href="#cb20-50"></a>                <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(num_annotators)</span>
<span id="cb20-51"><a href="#cb20-51"></a>            ]</span>
<span id="cb20-52"><a href="#cb20-52"></a>        ).transpose()</span>
<span id="cb20-53"><a href="#cb20-53"></a>    )</span>
<span id="cb20-54"><a href="#cb20-54"></a></span>
<span id="cb20-55"><a href="#cb20-55"></a>    <span class="co"># Each annotator only labels approximately 10% of the dataset</span></span>
<span id="cb20-56"><a href="#cb20-56"></a>    <span class="co"># (unlabeled points represented with NaN)</span></span>
<span id="cb20-57"><a href="#cb20-57"></a>    s <span class="op">=</span> s.<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.mask(np.random.random(n) <span class="op">&lt;</span> <span class="fl">0.9</span>)).astype(<span class="st">"Int64"</span>)</span>
<span id="cb20-58"><a href="#cb20-58"></a>    s.dropna(axis<span class="op">=</span><span class="dv">1</span>, how<span class="op">=</span><span class="st">"all"</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-59"><a href="#cb20-59"></a>    s.columns <span class="op">=</span> [<span class="st">"A"</span> <span class="op">+</span> <span class="bu">str</span>(i).zfill(<span class="dv">4</span>) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, num_annotators<span class="op">+</span><span class="dv">1</span>)]</span>
<span id="cb20-60"><a href="#cb20-60"></a></span>
<span id="cb20-61"><a href="#cb20-61"></a>    row_NA_check <span class="op">=</span> pd.notna(s).<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb20-62"><a href="#cb20-62"></a></span>
<span id="cb20-63"><a href="#cb20-63"></a>    <span class="cf">return</span> {</span>
<span id="cb20-64"><a href="#cb20-64"></a>        <span class="st">"X_train"</span>: X_train[row_NA_check],</span>
<span id="cb20-65"><a href="#cb20-65"></a>        <span class="st">"true_labels_train"</span>: true_labels_train[row_NA_check],</span>
<span id="cb20-66"><a href="#cb20-66"></a>        <span class="st">"multiannotator_labels"</span>: s[row_NA_check].reset_index(drop<span class="op">=</span><span class="va">True</span>),</span>
<span id="cb20-67"><a href="#cb20-67"></a>    }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Let’s view the first few rows of the data. Here are the labels selected by each annotator for the first few examples:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a>data_dict <span class="op">=</span> make_data()</span>
<span id="cb21-2"><a href="#cb21-2"></a></span>
<span id="cb21-3"><a href="#cb21-3"></a>X <span class="op">=</span> data_dict[<span class="st">"X_train"</span>]</span>
<span id="cb21-4"><a href="#cb21-4"></a>multiannotator_labels <span class="op">=</span> data_dict[<span class="st">"multiannotator_labels"</span>]</span>
<span id="cb21-5"><a href="#cb21-5"></a>true_labels <span class="op">=</span> data_dict[<span class="st">"true_labels_train"</span>] <span class="co"># used for comparing the accuracy of consensus labels</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:284,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863457414,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="26530d69-817d-4122-8833-765a576cbdfe">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1"></a>multiannotator_labels.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="16">

  <div id="df-c0daa652-2018-49d9-9219-f68c2e413658">
    <div class="colab-df-container">
      <div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">A0001</th>
<th data-quarto-table-cell-role="th">A0002</th>
<th data-quarto-table-cell-role="th">A0003</th>
<th data-quarto-table-cell-role="th">A0004</th>
<th data-quarto-table-cell-role="th">A0005</th>
<th data-quarto-table-cell-role="th">A0006</th>
<th data-quarto-table-cell-role="th">A0007</th>
<th data-quarto-table-cell-role="th">A0008</th>
<th data-quarto-table-cell-role="th">A0009</th>
<th data-quarto-table-cell-role="th">A0010</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">A0041</th>
<th data-quarto-table-cell-role="th">A0042</th>
<th data-quarto-table-cell-role="th">A0043</th>
<th data-quarto-table-cell-role="th">A0044</th>
<th data-quarto-table-cell-role="th">A0045</th>
<th data-quarto-table-cell-role="th">A0046</th>
<th data-quarto-table-cell-role="th">A0047</th>
<th data-quarto-table-cell-role="th">A0048</th>
<th data-quarto-table-cell-role="th">A0049</th>
<th data-quarto-table-cell-role="th">A0050</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>...</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>0</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>...</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>...</td>
<td>&lt;NA&gt;</td>
<td>0</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>2</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>2</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>...</td>
<td>0</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>...</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>2</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>0</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
<td>&lt;NA&gt;</td>
</tr>
</tbody>
</table>


<p>5 rows × 50 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-c0daa652-2018-49d9-9219-f68c2e413658')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-c0daa652-2018-49d9-9219-f68c2e413658 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-c0daa652-2018-49d9-9219-f68c2e413658');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<p><code>multiannotator_labels</code> contains the class labels that each annotator chose for each example, with examples that a particular annotator did not label represented using <code>np.nan</code>. <code>X</code> contains the features for each example.</p>
<section id="get-majority-vote-labels-and-compute-out-of-sample-predicted-probabilites" class="level3" data-number="3.4.1">
<h3 data-number="3.4.1" class="anchored" data-anchor-id="get-majority-vote-labels-and-compute-out-of-sample-predicted-probabilites"><span class="header-section-number">3.4.1</span> Get majority vote labels and compute out-of-sample predicted probabilites</h3>
<p>Before training a machine learning model, we must first obtain the consensus labels from the annotators that labeled the data. The simplest way to obtain an initial set of consensus labels is to select it using majority vote.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1"></a>majority_vote_label <span class="op">=</span> get_majority_vote_label(multiannotator_labels)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Next, we will train a model on the consensus labels obtained using majority vote to compute out-of-sample predicted probabilities. Here, we use a simple logistic regression model.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a>model <span class="op">=</span> LogisticRegression()</span>
<span id="cb24-2"><a href="#cb24-2"></a></span>
<span id="cb24-3"><a href="#cb24-3"></a>num_crossval_folds <span class="op">=</span> <span class="dv">5</span></span>
<span id="cb24-4"><a href="#cb24-4"></a>pred_probs <span class="op">=</span> cross_val_predict(</span>
<span id="cb24-5"><a href="#cb24-5"></a>    estimator<span class="op">=</span>model, X<span class="op">=</span>X, y<span class="op">=</span>majority_vote_label, cv<span class="op">=</span>num_crossval_folds, method<span class="op">=</span><span class="st">"predict_proba"</span></span>
<span id="cb24-6"><a href="#cb24-6"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="use-cleanlab-to-get-better-consensus-labels-and-other-statistics" class="level3" data-number="3.4.2">
<h3 data-number="3.4.2" class="anchored" data-anchor-id="use-cleanlab-to-get-better-consensus-labels-and-other-statistics"><span class="header-section-number">3.4.2</span> Use cleanlab to get better consensus labels and other statistics</h3>
<p>Using the annotators’ labels and the out-of-sample predicted probabilites from the model, cleanlab can help us obtain improved consensus labels for our data.</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:10370,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863610660,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="a7676ab9-36d7-4e1d-95e0-c9103cdc697d">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1"></a>results <span class="op">=</span> get_label_quality_multiannotator(multiannotator_labels, pred_probs, verbose<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Annotator(s) ['A0002' 'A0027' 'A0028' 'A0029' 'A0035'] did not annotate any examples that overlap with other annotators,                 
using the average annotator agreeement among other annotators as this annotator's agreement.
Annotator(s) ['A0002' 'A0027' 'A0028' 'A0029' 'A0035'] did not annotate any examples that overlap with other annotators,                 
using the average annotator agreeement among other annotators as this annotator's agreement.</code></pre>
</div>
</div>
<p>Here, we use the <code>multiannotator.get_label_quality_multiannotator()</code> function which returns a dictionary containing three items:</p>
<ol type="1">
<li><code>label_quality</code> which gives us the improved consensus labels using information from each of the annotators and the model. The DataFrame also contains information about the number of annotations, annotator agreement and consensus quality score for each example.</li>
</ol>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:280,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863636692,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="a04a647e-37c6-4076-9d16-06b468da7be7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1"></a>results[<span class="st">"label_quality"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="20">

  <div id="df-0afad558-a10e-4a28-961b-3f03afd2e0f7">
    <div class="colab-df-container">
      <div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">consensus_label</th>
<th data-quarto-table-cell-role="th">consensus_quality_score</th>
<th data-quarto-table-cell-role="th">annotator_agreement</th>
<th data-quarto-table-cell-role="th">num_annotations</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0</td>
<td>0.778153</td>
<td>0.500000</td>
<td>2</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0</td>
<td>0.840381</td>
<td>1.000000</td>
<td>3</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>0</td>
<td>0.811415</td>
<td>0.600000</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>0</td>
<td>0.764981</td>
<td>0.600000</td>
<td>5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>0</td>
<td>0.848161</td>
<td>0.800000</td>
<td>5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">291</td>
<td>2</td>
<td>0.799866</td>
<td>0.833333</td>
<td>6</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">292</td>
<td>2</td>
<td>0.774352</td>
<td>0.666667</td>
<td>6</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">293</td>
<td>2</td>
<td>0.860814</td>
<td>1.000000</td>
<td>8</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">294</td>
<td>2</td>
<td>0.946146</td>
<td>0.500000</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">295</td>
<td>2</td>
<td>0.835593</td>
<td>0.714286</td>
<td>7</td>
</tr>
</tbody>
</table>


<p>296 rows × 4 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-0afad558-a10e-4a28-961b-3f03afd2e0f7')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-0afad558-a10e-4a28-961b-3f03afd2e0f7 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-0afad558-a10e-4a28-961b-3f03afd2e0f7');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<ol start="2" type="1">
<li><code>detailed_label_quality</code> which returns the label quality score for each label given by every annotator</li>
</ol>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:266,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863683448,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="7f8e5633-efa4-447e-d127-621900539705">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a>results[<span class="st">"detailed_label_quality"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="21">

  <div id="df-b29484af-20b8-4b6d-9243-241a45ac8a79">
    <div class="colab-df-container">
      <div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">quality_annotator_A0001</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0002</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0003</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0004</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0005</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0006</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0007</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0008</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0009</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0010</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0041</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0042</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0043</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0044</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0045</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0046</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0047</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0048</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0049</th>
<th data-quarto-table-cell-role="th">quality_annotator_A0050</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.840381</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>0.811415</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.051990</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.172521</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>0.764981</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.101573</td>
<td>NaN</td>
<td>NaN</td>
<td>0.848161</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">291</td>
<td>0.799866</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.799866</td>
<td>0.131487</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">292</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.774352</td>
<td>NaN</td>
<td>0.774352</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.167851</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">293</td>
<td>NaN</td>
<td>NaN</td>
<td>0.860814</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>0.860814</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.860814</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">294</td>
<td>NaN</td>
<td>NaN</td>
<td>0.946146</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.026924</td>
<td>NaN</td>
<td>NaN</td>
<td>0.026924</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">295</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>...</td>
<td>0.835593</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>0.080003</td>
<td>NaN</td>
<td>0.080003</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>


<p>296 rows × 50 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-b29484af-20b8-4b6d-9243-241a45ac8a79')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-b29484af-20b8-4b6d-9243-241a45ac8a79 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-b29484af-20b8-4b6d-9243-241a45ac8a79');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<ol start="3" type="1">
<li><code>annotator_stats</code> which gives us the annotator quality score for each annotator, alongisde other information such as the number of examples each annotator labeled, their agreement with the consensus labels and the class they perform the worst at.</li>
</ol>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:282,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863706758,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="ae3b5ae8-4fa9-45bb-ebe0-62c0a4c0bdd6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1"></a>results[<span class="st">"annotator_stats"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="22">

  <div id="df-7d4a164a-2f8c-4469-92f3-337ff37989c8">
    <div class="colab-df-container">
      <div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">annotator_quality</th>
<th data-quarto-table-cell-role="th">agreement_with_consensus</th>
<th data-quarto-table-cell-role="th">worst_class</th>
<th data-quarto-table-cell-role="th">num_examples_labeled</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0050</td>
<td>0.262121</td>
<td>0.250000</td>
<td>2</td>
<td>24</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0047</td>
<td>0.296369</td>
<td>0.294118</td>
<td>2</td>
<td>34</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0049</td>
<td>0.320576</td>
<td>0.310345</td>
<td>1</td>
<td>29</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0046</td>
<td>0.357324</td>
<td>0.346154</td>
<td>1</td>
<td>26</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0048</td>
<td>0.468168</td>
<td>0.520000</td>
<td>2</td>
<td>25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0031</td>
<td>0.525641</td>
<td>0.580645</td>
<td>2</td>
<td>31</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0034</td>
<td>0.544269</td>
<td>0.607143</td>
<td>2</td>
<td>28</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0021</td>
<td>0.585709</td>
<td>0.656250</td>
<td>1</td>
<td>32</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0019</td>
<td>0.610918</td>
<td>0.678571</td>
<td>2</td>
<td>28</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0015</td>
<td>0.620574</td>
<td>0.678571</td>
<td>2</td>
<td>28</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0011</td>
<td>0.622605</td>
<td>0.692308</td>
<td>1</td>
<td>26</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0025</td>
<td>0.624784</td>
<td>0.702703</td>
<td>2</td>
<td>37</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0017</td>
<td>0.632781</td>
<td>0.680000</td>
<td>2</td>
<td>25</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0003</td>
<td>0.650724</td>
<td>0.722222</td>
<td>2</td>
<td>36</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0038</td>
<td>0.654490</td>
<td>0.714286</td>
<td>1</td>
<td>28</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0037</td>
<td>0.655256</td>
<td>0.729730</td>
<td>2</td>
<td>37</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0044</td>
<td>0.656257</td>
<td>0.738095</td>
<td>2</td>
<td>42</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0040</td>
<td>0.660856</td>
<td>0.740741</td>
<td>2</td>
<td>27</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0009</td>
<td>0.677454</td>
<td>0.750000</td>
<td>2</td>
<td>28</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0006</td>
<td>0.680579</td>
<td>0.740741</td>
<td>2</td>
<td>27</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0041</td>
<td>0.697971</td>
<td>0.766667</td>
<td>2</td>
<td>30</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0033</td>
<td>0.699469</td>
<td>0.800000</td>
<td>2</td>
<td>20</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0012</td>
<td>0.701831</td>
<td>0.772727</td>
<td>0</td>
<td>22</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0014</td>
<td>0.703866</td>
<td>0.785714</td>
<td>2</td>
<td>28</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0024</td>
<td>0.703875</td>
<td>0.794118</td>
<td>2</td>
<td>34</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0004</td>
<td>0.706232</td>
<td>0.809524</td>
<td>1</td>
<td>21</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0029</td>
<td>0.707322</td>
<td>0.781250</td>
<td>2</td>
<td>32</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0002</td>
<td>0.707889</td>
<td>0.793103</td>
<td>2</td>
<td>29</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0028</td>
<td>0.709388</td>
<td>0.815789</td>
<td>1</td>
<td>38</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0045</td>
<td>0.713798</td>
<td>0.814815</td>
<td>2</td>
<td>27</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0007</td>
<td>0.714058</td>
<td>0.805556</td>
<td>2</td>
<td>36</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0042</td>
<td>0.719011</td>
<td>0.821429</td>
<td>2</td>
<td>28</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0018</td>
<td>0.725979</td>
<td>0.823529</td>
<td>2</td>
<td>34</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0043</td>
<td>0.726029</td>
<td>0.823529</td>
<td>2</td>
<td>34</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0010</td>
<td>0.726405</td>
<td>0.833333</td>
<td>0</td>
<td>24</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0030</td>
<td>0.730296</td>
<td>0.857143</td>
<td>2</td>
<td>28</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0020</td>
<td>0.731679</td>
<td>0.827586</td>
<td>2</td>
<td>29</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0036</td>
<td>0.734518</td>
<td>0.821429</td>
<td>2</td>
<td>28</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0013</td>
<td>0.735184</td>
<td>0.863636</td>
<td>2</td>
<td>22</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0016</td>
<td>0.743784</td>
<td>0.838710</td>
<td>2</td>
<td>31</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0001</td>
<td>0.743842</td>
<td>0.848485</td>
<td>2</td>
<td>33</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0026</td>
<td>0.745471</td>
<td>0.869565</td>
<td>1</td>
<td>23</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0039</td>
<td>0.746901</td>
<td>0.857143</td>
<td>2</td>
<td>28</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0027</td>
<td>0.759070</td>
<td>0.891892</td>
<td>1</td>
<td>37</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0022</td>
<td>0.767128</td>
<td>0.862069</td>
<td>2</td>
<td>29</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0035</td>
<td>0.773640</td>
<td>0.870968</td>
<td>2</td>
<td>31</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0023</td>
<td>0.781378</td>
<td>0.909091</td>
<td>1</td>
<td>22</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0005</td>
<td>0.791291</td>
<td>0.916667</td>
<td>0</td>
<td>24</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">A0008</td>
<td>0.792155</td>
<td>0.916667</td>
<td>1</td>
<td>36</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">A0032</td>
<td>0.823238</td>
<td>0.950000</td>
<td>0</td>
<td>20</td>
</tr>
</tbody>
</table>


</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-7d4a164a-2f8c-4469-92f3-337ff37989c8')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-7d4a164a-2f8c-4469-92f3-337ff37989c8 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-7d4a164a-2f8c-4469-92f3-337ff37989c8');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<p>We can get the improved consensus labels from the label_quality DataFrame shown above. We can compare the accuracy of the consensus labels obtained using majority vote, and the improved consensus labels obtained using cleanlab.</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:482,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863766653,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="2ad5c07b-75c2-4f21-abe4-0866eb8493b1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a>improved_consensus_label <span class="op">=</span> results[<span class="st">"label_quality"</span>][<span class="st">"consensus_label"</span>].values</span>
<span id="cb30-2"><a href="#cb30-2"></a></span>
<span id="cb30-3"><a href="#cb30-3"></a>majority_vote_accuracy <span class="op">=</span> np.mean(true_labels <span class="op">==</span> majority_vote_label)</span>
<span id="cb30-4"><a href="#cb30-4"></a>cleanlab_label_accuracy <span class="op">=</span> np.mean(true_labels <span class="op">==</span> improved_consensus_label)</span>
<span id="cb30-5"><a href="#cb30-5"></a></span>
<span id="cb30-6"><a href="#cb30-6"></a><span class="bu">print</span>(<span class="ss">f"Accuracy of majority vote labels = </span><span class="sc">{</span>majority_vote_accuracy<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb30-7"><a href="#cb30-7"></a><span class="bu">print</span>(<span class="ss">f"Accuracy of cleanlab consensus labels = </span><span class="sc">{</span>cleanlab_label_accuracy<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy of majority vote labels = 0.9054054054054054
Accuracy of cleanlab consensus labels = 0.9763513513513513</code></pre>
</div>
</div>
<p>We can see that the accuracy of the consensus labels improved as a result of using cleanlab!</p>
<p>After obtaining the improved consensus labels, we can now retrain a better version of our machine learning model using these newly obtained labels. You can also repeatedly iterate this process of getting better consensus labels using the model’s out-of-sample predicted probabilites and then retraining the model with the improved labels to get even better predicted probabilities!</p>
</section>
</section>
<section id="active-learning-with-modal" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="active-learning-with-modal"><span class="header-section-number">3.5</span> Active Learning with modAL</h2>
<p>In this example, the active learning workflow of modAL is demonstrated - with you in the loop! By running this notebook, you’ll be queried to label digits using the <a href="http://archive.ics.uci.edu/ml/datasets/Optical+Recognition+of+Handwritten+Digits">DIGITS</a> dataset.</p>
<p>Here we use the pool-based sampling. In this setting, we assume a small set of labeled data <code>L</code> and a large set of unlabeled data <code>U</code> such that <code>|L|≪|U|</code>.</p>
<p>The high level description about this strategy is as follows: Queries are selectively drawn from the pool, which is usually assumed to be closed (i.e., static or non-changing), although this is not strictly necessary. Typically, instances are queried in a greedy fashion, according to an informativeness measure used to evaluate all instances in the pool (or, perhaps if <code>U</code> is very large, some subsample thereof).</p>
<p>Now we set up the initial training set for our classifier. If you would like to play around, you can try to modifiy the value <code>n_initial</code> below and see if it impacts the algorithm!</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:2552,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676863891496,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="ed3b7806-c583-490e-9294-310f617a60d3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a>digits <span class="op">=</span> load_digits()</span>
<span id="cb32-2"><a href="#cb32-2"></a></span>
<span id="cb32-3"><a href="#cb32-3"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">8</span>))  <span class="co"># figure size in inches</span></span>
<span id="cb32-4"><a href="#cb32-4"></a>fig.subplots_adjust(left<span class="op">=</span><span class="dv">0</span>, right<span class="op">=</span><span class="dv">1</span>, bottom<span class="op">=</span><span class="dv">0</span>, top<span class="op">=</span><span class="dv">1</span>, hspace<span class="op">=</span><span class="fl">0.05</span>, wspace<span class="op">=</span><span class="fl">0.05</span>)</span>
<span id="cb32-5"><a href="#cb32-5"></a></span>
<span id="cb32-6"><a href="#cb32-6"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">64</span>):</span>
<span id="cb32-7"><a href="#cb32-7"></a>    ax <span class="op">=</span> fig.add_subplot(<span class="dv">8</span>, <span class="dv">8</span>, i <span class="op">+</span> <span class="dv">1</span>, xticks<span class="op">=</span>[], yticks<span class="op">=</span>[])</span>
<span id="cb32-8"><a href="#cb32-8"></a>    ax.imshow(digits.images[i], cmap<span class="op">=</span>plt.cm.binary, interpolation<span class="op">=</span><span class="st">'nearest'</span>)</span>
<span id="cb32-9"><a href="#cb32-9"></a>    <span class="co"># label the image with the target value</span></span>
<span id="cb32-10"><a href="#cb32-10"></a>    ax.text(<span class="dv">0</span>, <span class="dv">7</span>, <span class="bu">str</span>(digits.target[i]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="02_Dataset_files/figure-html/cell-25-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:261,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676864065408,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="c1fcc203-4f7a-48eb-c109-91b299de36d4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1"></a>n_initial <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb33-2"><a href="#cb33-2"></a>X, y <span class="op">=</span> load_digits(return_X_y<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb33-3"><a href="#cb33-3"></a><span class="bu">print</span>(X.shape)</span>
<span id="cb33-4"><a href="#cb33-4"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y)</span>
<span id="cb33-5"><a href="#cb33-5"></a></span>
<span id="cb33-6"><a href="#cb33-6"></a>initial_idx <span class="op">=</span> np.random.choice(<span class="bu">range</span>(<span class="bu">len</span>(X_train)), size<span class="op">=</span>n_initial, replace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb33-7"><a href="#cb33-7"></a></span>
<span id="cb33-8"><a href="#cb33-8"></a>X_initial, y_initial <span class="op">=</span> X_train[initial_idx], y_train[initial_idx]</span>
<span id="cb33-9"><a href="#cb33-9"></a>X_pool, y_pool <span class="op">=</span> np.delete(X_train, initial_idx, axis<span class="op">=</span><span class="dv">0</span>), np.delete(y_train, initial_idx, axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb33-10"><a href="#cb33-10"></a><span class="bu">print</span>(X_pool.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(1797, 64)
(1247, 64)</code></pre>
</div>
</div>
<section id="initializing-the-learner" class="level3" data-number="3.5.1">
<h3 data-number="3.5.1" class="anchored" data-anchor-id="initializing-the-learner"><span class="header-section-number">3.5.1</span> Initializing the learner</h3>
<p>Along with our pool-based sampling strategy, <code>modAL</code>’s modular design allows you to vary parameters surrounding the active learning process, <strong>including the core estimator and query strategy.</strong></p>
<p>Now we initialize the active learner. Feel free to change the underlying <code>RandomForestClassifier</code> or the <code>uncertainty_sampling</code>!</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1"></a>learner <span class="op">=</span> ActiveLearner(</span>
<span id="cb35-2"><a href="#cb35-2"></a>    estimator<span class="op">=</span>RandomForestClassifier(),</span>
<span id="cb35-3"><a href="#cb35-3"></a>    query_strategy<span class="op">=</span>uncertainty_sampling,</span>
<span id="cb35-4"><a href="#cb35-4"></a>    X_training<span class="op">=</span>X_initial, y_training<span class="op">=</span>y_initial</span>
<span id="cb35-5"><a href="#cb35-5"></a>)</span>
<span id="cb35-6"><a href="#cb35-6"></a></span>
<span id="cb35-7"><a href="#cb35-7"></a><span class="co">## We also set how many queries we want to make. The more the better!</span></span>
<span id="cb35-8"><a href="#cb35-8"></a>n_queries <span class="op">=</span> <span class="dv">20</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="the-active-learning-loop" class="level3" data-number="3.5.2">
<h3 data-number="3.5.2" class="anchored" data-anchor-id="the-active-learning-loop"><span class="header-section-number">3.5.2</span> The active learning loop</h3>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:256033,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676864365852,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="7bffe159-4d94-42b6-e548-e77e76368c4a">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a>accuracy_scores <span class="op">=</span> [learner.score(X_test, y_test)]</span>
<span id="cb36-2"><a href="#cb36-2"></a></span>
<span id="cb36-3"><a href="#cb36-3"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(n_queries):</span>
<span id="cb36-4"><a href="#cb36-4"></a>    display.clear_output(wait<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb36-5"><a href="#cb36-5"></a>    query_idx, query_inst <span class="op">=</span> learner.query(X_pool)</span>
<span id="cb36-6"><a href="#cb36-6"></a>    <span class="cf">with</span> plt.style.context(<span class="st">'seaborn-white'</span>):</span>
<span id="cb36-7"><a href="#cb36-7"></a>        plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">5</span>))</span>
<span id="cb36-8"><a href="#cb36-8"></a>        plt.subplot(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>)</span>
<span id="cb36-9"><a href="#cb36-9"></a>        plt.title(<span class="st">'Digit to label'</span>)</span>
<span id="cb36-10"><a href="#cb36-10"></a>        plt.imshow(query_inst.reshape(<span class="dv">8</span>, <span class="dv">8</span>))</span>
<span id="cb36-11"><a href="#cb36-11"></a>        plt.subplot(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb36-12"><a href="#cb36-12"></a>        plt.title(<span class="st">'Accuracy of your model'</span>)</span>
<span id="cb36-13"><a href="#cb36-13"></a>        plt.plot(<span class="bu">range</span>(i<span class="op">+</span><span class="dv">1</span>), accuracy_scores)</span>
<span id="cb36-14"><a href="#cb36-14"></a>        plt.scatter(<span class="bu">range</span>(i<span class="op">+</span><span class="dv">1</span>), accuracy_scores)</span>
<span id="cb36-15"><a href="#cb36-15"></a>        plt.xlabel(<span class="st">'number of queries'</span>)</span>
<span id="cb36-16"><a href="#cb36-16"></a>        plt.ylabel(<span class="st">'accuracy'</span>)</span>
<span id="cb36-17"><a href="#cb36-17"></a>        display.display(plt.gcf())</span>
<span id="cb36-18"><a href="#cb36-18"></a>        plt.close(<span class="st">'all'</span>)</span>
<span id="cb36-19"><a href="#cb36-19"></a>    <span class="co"># Query the rater</span></span>
<span id="cb36-20"><a href="#cb36-20"></a>    <span class="bu">print</span>(<span class="st">"Which digit is this?"</span>)</span>
<span id="cb36-21"><a href="#cb36-21"></a>    y_new <span class="op">=</span> np.array([<span class="bu">int</span>(<span class="bu">input</span>())], dtype<span class="op">=</span><span class="bu">int</span>)</span>
<span id="cb36-22"><a href="#cb36-22"></a>    learner.teach(query_inst.reshape(<span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>), y_new)</span>
<span id="cb36-23"><a href="#cb36-23"></a>    X_pool, y_pool <span class="op">=</span> np.delete(X_pool, query_idx, axis<span class="op">=</span><span class="dv">0</span>), np.delete(y_pool, query_idx, axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb36-24"><a href="#cb36-24"></a>    accuracy_scores.append(learner.score(X_test, y_test))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="02_Dataset_files/figure-html/cell-28-output-1.png" class="img-fluid"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Which digit is this?
3</code></pre>
</div>
</div>
<p>By querying hard example to the rater, the performance increase from 83% to 86%!</p>
</section>
<section id="iris-example" class="level3" data-number="3.5.3">
<h3 data-number="3.5.3" class="anchored" data-anchor-id="iris-example"><span class="header-section-number">3.5.3</span> Iris example</h3>
<p>In this example, we use <code>scikit-learn</code>’s <code>k-nearest neighbors classifier</code> as our estimator and default to <code>modAL</code>’s uncertainty sampling query strategy.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a><span class="co"># Set our RNG seed for reproducibility</span></span>
<span id="cb38-2"><a href="#cb38-2"></a>RANDOM_STATE_SEED <span class="op">=</span> <span class="dv">123</span></span>
<span id="cb38-3"><a href="#cb38-3"></a>np.random.seed(RANDOM_STATE_SEED)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:315,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676864372202,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="0d350fc4-5e4e-484d-c9e7-82d76a59ed00">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1"></a><span class="im">from</span> sklearn.datasets <span class="im">import</span> load_iris</span>
<span id="cb39-2"><a href="#cb39-2"></a></span>
<span id="cb39-3"><a href="#cb39-3"></a>iris <span class="op">=</span> load_iris()</span>
<span id="cb39-4"><a href="#cb39-4"></a>X_raw <span class="op">=</span> iris[<span class="st">'data'</span>]</span>
<span id="cb39-5"><a href="#cb39-5"></a>y_raw <span class="op">=</span> iris[<span class="st">'target'</span>]</span>
<span id="cb39-6"><a href="#cb39-6"></a><span class="bu">print</span>(X_raw.shape)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(150, 4)</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1"></a><span class="co"># Define our PCA transformer and fit it onto our raw dataset.</span></span>
<span id="cb41-2"><a href="#cb41-2"></a>pca <span class="op">=</span> PCA(n_components<span class="op">=</span><span class="dv">2</span>, random_state<span class="op">=</span>RANDOM_STATE_SEED)</span>
<span id="cb41-3"><a href="#cb41-3"></a>transformed_iris <span class="op">=</span> pca.fit_transform(X<span class="op">=</span>X_raw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:693,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676864424083,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="acffc9ce-2241-4bc6-ee77-f233e0e8b9c7">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1"></a><span class="co"># Isolate the data we'll need for plotting.</span></span>
<span id="cb42-2"><a href="#cb42-2"></a>x_component, y_component <span class="op">=</span> transformed_iris[:, <span class="dv">0</span>], transformed_iris[:, <span class="dv">1</span>]</span>
<span id="cb42-3"><a href="#cb42-3"></a></span>
<span id="cb42-4"><a href="#cb42-4"></a><span class="co"># Plot our dimensionality-reduced (via PCA) dataset.</span></span>
<span id="cb42-5"><a href="#cb42-5"></a>plt.figure(figsize<span class="op">=</span>(<span class="fl">8.5</span>, <span class="dv">6</span>), dpi<span class="op">=</span><span class="dv">130</span>)</span>
<span id="cb42-6"><a href="#cb42-6"></a>plt.scatter(x<span class="op">=</span>x_component, y<span class="op">=</span>y_component, c<span class="op">=</span>y_raw, cmap<span class="op">=</span><span class="st">'viridis'</span>, s<span class="op">=</span><span class="dv">50</span>, alpha<span class="op">=</span><span class="dv">8</span><span class="op">/</span><span class="dv">10</span>)</span>
<span id="cb42-7"><a href="#cb42-7"></a>plt.title(<span class="st">'Iris classes after PCA transformation'</span>)</span>
<span id="cb42-8"><a href="#cb42-8"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="02_Dataset_files/figure-html/cell-32-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>Now we partition our iris dataset into a training set <code>L</code> and <code>U</code>. We first specify our training set <code>L</code> consisting of 3 random examples. The remaining examples go to our “unlabeled” pool <code>U</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># Isolate our examples for our labeled dataset.</span></span>
<span id="cb43-2"><a href="#cb43-2"></a>n_labeled_examples <span class="op">=</span> X_raw.shape[<span class="dv">0</span>]</span>
<span id="cb43-3"><a href="#cb43-3"></a>training_indices <span class="op">=</span> np.random.randint(low<span class="op">=</span><span class="dv">0</span>, high<span class="op">=</span>n_labeled_examples <span class="op">+</span> <span class="dv">1</span>, size<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb43-4"><a href="#cb43-4"></a></span>
<span id="cb43-5"><a href="#cb43-5"></a>X_train <span class="op">=</span> X_raw[training_indices]</span>
<span id="cb43-6"><a href="#cb43-6"></a>y_train <span class="op">=</span> y_raw[training_indices]</span>
<span id="cb43-7"><a href="#cb43-7"></a></span>
<span id="cb43-8"><a href="#cb43-8"></a><span class="co"># Isolate the non-training examples we'll be querying.</span></span>
<span id="cb43-9"><a href="#cb43-9"></a>X_pool <span class="op">=</span> np.delete(X_raw, training_indices, axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb43-10"><a href="#cb43-10"></a>y_pool <span class="op">=</span> np.delete(y_raw, training_indices, axis<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>For the classification, we are going to use a simple <code>k-nearest neighbors classifier</code>. In this step, we are also going to initialize the <code>ActiveLearner</code>.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1"></a><span class="co"># Specify our core estimator along with it's active learning model.</span></span>
<span id="cb44-2"><a href="#cb44-2"></a>knn <span class="op">=</span> KNeighborsClassifier(n_neighbors<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb44-3"><a href="#cb44-3"></a>learner <span class="op">=</span> ActiveLearner(estimator<span class="op">=</span>knn, X_training<span class="op">=</span>X_train, y_training<span class="op">=</span>y_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Let’s see how our classifier performs on the initial training set!</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:262,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676864488186,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="5c18af7e-db7b-48b0-b27b-b7ceeea0d317">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1"></a><span class="co"># Isolate the data we'll need for plotting.</span></span>
<span id="cb45-2"><a href="#cb45-2"></a><span class="bu">print</span>(y_train)</span>
<span id="cb45-3"><a href="#cb45-3"></a>predictions <span class="op">=</span> learner.predict(X_raw)</span>
<span id="cb45-4"><a href="#cb45-4"></a>is_correct <span class="op">=</span> (predictions <span class="op">==</span> y_raw)</span>
<span id="cb45-5"><a href="#cb45-5"></a></span>
<span id="cb45-6"><a href="#cb45-6"></a>predictions</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[2 2 1]</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>array([2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2,
       2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2])</code></pre>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:623,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676864512980,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="2539d0f0-7221-4d11-8acb-b77143517fe0">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1"></a><span class="co"># Record our learner's score on the raw data.</span></span>
<span id="cb48-2"><a href="#cb48-2"></a>unqueried_score <span class="op">=</span> learner.score(X_raw, y_raw)</span>
<span id="cb48-3"><a href="#cb48-3"></a></span>
<span id="cb48-4"><a href="#cb48-4"></a><span class="co"># Plot our classification results.</span></span>
<span id="cb48-5"><a href="#cb48-5"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="fl">8.5</span>, <span class="dv">6</span>), dpi<span class="op">=</span><span class="dv">130</span>)</span>
<span id="cb48-6"><a href="#cb48-6"></a>ax.scatter(x<span class="op">=</span>x_component[is_correct],  y<span class="op">=</span>y_component[is_correct],  c<span class="op">=</span><span class="st">'g'</span>, marker<span class="op">=</span><span class="st">'+'</span>, label<span class="op">=</span><span class="st">'Correct'</span>,   alpha<span class="op">=</span><span class="dv">8</span><span class="op">/</span><span class="dv">10</span>)</span>
<span id="cb48-7"><a href="#cb48-7"></a>ax.scatter(x<span class="op">=</span>x_component[<span class="op">~</span>is_correct], y<span class="op">=</span>y_component[<span class="op">~</span>is_correct], c<span class="op">=</span><span class="st">'r'</span>, marker<span class="op">=</span><span class="st">'x'</span>, label<span class="op">=</span><span class="st">'Incorrect'</span>, alpha<span class="op">=</span><span class="dv">8</span><span class="op">/</span><span class="dv">10</span>)</span>
<span id="cb48-8"><a href="#cb48-8"></a>ax.legend(loc<span class="op">=</span><span class="st">'lower right'</span>)</span>
<span id="cb48-9"><a href="#cb48-9"></a>ax.set_title(<span class="st">"ActiveLearner class predictions (Accuracy: </span><span class="sc">{score:.3f}</span><span class="st">)"</span>.<span class="bu">format</span>(score<span class="op">=</span>unqueried_score))</span>
<span id="cb48-10"><a href="#cb48-10"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="02_Dataset_files/figure-html/cell-36-output-1.png" class="img-fluid"></p>
</div>
</div>
<section id="update-our-model-by-pool-based-sampling-our-unlabeled-dataset-u" class="level4" data-number="3.5.3.1">
<h4 data-number="3.5.3.1" class="anchored" data-anchor-id="update-our-model-by-pool-based-sampling-our-unlabeled-dataset-u"><span class="header-section-number">3.5.3.1</span> Update our model by pool-based sampling our “unlabeled” dataset U</h4>
<p>As we can see, our model is unable to properly learn the underlying data distribution. All of its predictions are for the third class label, and as such it is only as competitive as defaulting its predictions to a single class – if only we had more data!</p>
<p>Below, we tune our classifier by allowing it to query 20 instances it hasn’t seen before. Using uncertainty sampling, <strong>our classifier aims to reduce the amount of uncertainty in its predictions using a variety of measures</strong> — see https://modal-python.readthedocs.io/en/latest/index.html for more on specific classification uncertainty measures. With each requested query, we remove that record from our pool <code>U</code> and record our model’s accuracy on the raw dataset.</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:448,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676864568000,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="99951b46-224e-4b63-da6e-d4b00bd7d71b">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1"></a>N_QUERIES <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb49-2"><a href="#cb49-2"></a>performance_history <span class="op">=</span> [unqueried_score]</span>
<span id="cb49-3"><a href="#cb49-3"></a></span>
<span id="cb49-4"><a href="#cb49-4"></a><span class="co"># Allow our model to query our unlabeled dataset for the most</span></span>
<span id="cb49-5"><a href="#cb49-5"></a><span class="co"># informative points according to our query strategy (uncertainty sampling).</span></span>
<span id="cb49-6"><a href="#cb49-6"></a><span class="cf">for</span> index <span class="kw">in</span> <span class="bu">range</span>(N_QUERIES):</span>
<span id="cb49-7"><a href="#cb49-7"></a>  query_index, query_instance <span class="op">=</span> learner.query(X_pool)</span>
<span id="cb49-8"><a href="#cb49-8"></a></span>
<span id="cb49-9"><a href="#cb49-9"></a>  <span class="co"># Teach our ActiveLearner model the record it has requested.</span></span>
<span id="cb49-10"><a href="#cb49-10"></a>  <span class="co"># Here we assume the label comes from the true label!!!</span></span>
<span id="cb49-11"><a href="#cb49-11"></a>  X, y <span class="op">=</span> X_pool[query_index].reshape(<span class="dv">1</span>, <span class="op">-</span><span class="dv">1</span>), y_pool[query_index].reshape(<span class="dv">1</span>, )</span>
<span id="cb49-12"><a href="#cb49-12"></a>  learner.teach(X<span class="op">=</span>X, y<span class="op">=</span>y)</span>
<span id="cb49-13"><a href="#cb49-13"></a></span>
<span id="cb49-14"><a href="#cb49-14"></a>  <span class="co"># Remove the queried instance from the unlabeled pool.</span></span>
<span id="cb49-15"><a href="#cb49-15"></a>  X_pool, y_pool <span class="op">=</span> np.delete(X_pool, query_index, axis<span class="op">=</span><span class="dv">0</span>), np.delete(y_pool, query_index)</span>
<span id="cb49-16"><a href="#cb49-16"></a></span>
<span id="cb49-17"><a href="#cb49-17"></a>  <span class="co"># Calculate and report our model's accuracy.</span></span>
<span id="cb49-18"><a href="#cb49-18"></a>  model_accuracy <span class="op">=</span> learner.score(X_raw, y_raw)</span>
<span id="cb49-19"><a href="#cb49-19"></a>  <span class="bu">print</span>(<span class="st">'Accuracy after query </span><span class="sc">{n}</span><span class="st">: </span><span class="sc">{acc:0.4f}</span><span class="st">'</span>.<span class="bu">format</span>(n<span class="op">=</span>index <span class="op">+</span> <span class="dv">1</span>, acc<span class="op">=</span>model_accuracy))</span>
<span id="cb49-20"><a href="#cb49-20"></a></span>
<span id="cb49-21"><a href="#cb49-21"></a>  <span class="co"># Save our model's performance for plotting.</span></span>
<span id="cb49-22"><a href="#cb49-22"></a>  performance_history.append(model_accuracy)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Accuracy after query 1: 0.6667
Accuracy after query 2: 0.6667
Accuracy after query 3: 0.8800
Accuracy after query 4: 0.8800
Accuracy after query 5: 0.8733
Accuracy after query 6: 0.8400
Accuracy after query 7: 0.7400
Accuracy after query 8: 0.7267
Accuracy after query 9: 0.7267
Accuracy after query 10: 0.7267
Accuracy after query 11: 0.7267
Accuracy after query 12: 0.7267
Accuracy after query 13: 0.7267
Accuracy after query 14: 0.7267
Accuracy after query 15: 0.7200
Accuracy after query 16: 0.8400
Accuracy after query 17: 0.8800
Accuracy after query 18: 0.8933
Accuracy after query 19: 0.9267
Accuracy after query 20: 0.9267</code></pre>
</div>
</div>
<p>Here, we first plot the query iteration index against model accuracy. To visualize the performance of our classifier, we also plot the correct and incorrect predictions on the full dataset.</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:501,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676864600779,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="1855c496-3e99-4c8f-8709-c541f88a563e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1"></a><span class="co"># Plot our performance over time.</span></span>
<span id="cb51-2"><a href="#cb51-2"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="fl">8.5</span>, <span class="dv">6</span>), dpi<span class="op">=</span><span class="dv">130</span>)</span>
<span id="cb51-3"><a href="#cb51-3"></a></span>
<span id="cb51-4"><a href="#cb51-4"></a>ax.plot(performance_history)</span>
<span id="cb51-5"><a href="#cb51-5"></a>ax.scatter(<span class="bu">range</span>(<span class="bu">len</span>(performance_history)), performance_history, s<span class="op">=</span><span class="dv">13</span>)</span>
<span id="cb51-6"><a href="#cb51-6"></a></span>
<span id="cb51-7"><a href="#cb51-7"></a>ax.xaxis.set_major_locator(mpl.ticker.MaxNLocator(nbins<span class="op">=</span><span class="dv">5</span>, integer<span class="op">=</span><span class="va">True</span>))</span>
<span id="cb51-8"><a href="#cb51-8"></a>ax.yaxis.set_major_locator(mpl.ticker.MaxNLocator(nbins<span class="op">=</span><span class="dv">10</span>))</span>
<span id="cb51-9"><a href="#cb51-9"></a>ax.yaxis.set_major_formatter(mpl.ticker.PercentFormatter(xmax<span class="op">=</span><span class="dv">1</span>))</span>
<span id="cb51-10"><a href="#cb51-10"></a></span>
<span id="cb51-11"><a href="#cb51-11"></a>ax.set_ylim(bottom<span class="op">=</span><span class="dv">0</span>, top<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb51-12"><a href="#cb51-12"></a>ax.grid(<span class="va">True</span>)</span>
<span id="cb51-13"><a href="#cb51-13"></a></span>
<span id="cb51-14"><a href="#cb51-14"></a>ax.set_title(<span class="st">'Incremental classification accuracy'</span>)</span>
<span id="cb51-15"><a href="#cb51-15"></a>ax.set_xlabel(<span class="st">'Query iteration'</span>)</span>
<span id="cb51-16"><a href="#cb51-16"></a>ax.set_ylabel(<span class="st">'Classification Accuracy'</span>)</span>
<span id="cb51-17"><a href="#cb51-17"></a></span>
<span id="cb51-18"><a href="#cb51-18"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="02_Dataset_files/figure-html/cell-38-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:449,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676864617525,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="1e27c6a0-2e63-4df7-d4da-c18775775fac">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1"></a><span class="co"># Isolate the data we'll need for plotting.</span></span>
<span id="cb52-2"><a href="#cb52-2"></a>predictions <span class="op">=</span> learner.predict(X_raw)</span>
<span id="cb52-3"><a href="#cb52-3"></a>is_correct <span class="op">=</span> (predictions <span class="op">==</span> y_raw)</span>
<span id="cb52-4"><a href="#cb52-4"></a></span>
<span id="cb52-5"><a href="#cb52-5"></a><span class="co"># Plot our updated classification results once we've trained our learner.</span></span>
<span id="cb52-6"><a href="#cb52-6"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="fl">8.5</span>, <span class="dv">6</span>), dpi<span class="op">=</span><span class="dv">130</span>)</span>
<span id="cb52-7"><a href="#cb52-7"></a></span>
<span id="cb52-8"><a href="#cb52-8"></a>ax.scatter(x<span class="op">=</span>x_component[is_correct],  y<span class="op">=</span>y_component[is_correct],  c<span class="op">=</span><span class="st">'g'</span>, marker<span class="op">=</span><span class="st">'+'</span>, label<span class="op">=</span><span class="st">'Correct'</span>,   alpha<span class="op">=</span><span class="dv">8</span><span class="op">/</span><span class="dv">10</span>)</span>
<span id="cb52-9"><a href="#cb52-9"></a>ax.scatter(x<span class="op">=</span>x_component[<span class="op">~</span>is_correct], y<span class="op">=</span>y_component[<span class="op">~</span>is_correct], c<span class="op">=</span><span class="st">'r'</span>, marker<span class="op">=</span><span class="st">'x'</span>, label<span class="op">=</span><span class="st">'Incorrect'</span>, alpha<span class="op">=</span><span class="dv">8</span><span class="op">/</span><span class="dv">10</span>)</span>
<span id="cb52-10"><a href="#cb52-10"></a></span>
<span id="cb52-11"><a href="#cb52-11"></a>ax.set_title(<span class="st">'Classification accuracy after </span><span class="sc">{n}</span><span class="st"> queries: </span><span class="sc">{final_acc:.3f}</span><span class="st">'</span>.<span class="bu">format</span>(n<span class="op">=</span>N_QUERIES, final_acc<span class="op">=</span>performance_history[<span class="op">-</span><span class="dv">1</span>]))</span>
<span id="cb52-12"><a href="#cb52-12"></a>ax.legend(loc<span class="op">=</span><span class="st">'lower right'</span>)</span>
<span id="cb52-13"><a href="#cb52-13"></a></span>
<span id="cb52-14"><a href="#cb52-14"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="02_Dataset_files/figure-html/cell-39-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
</section>
</section>
<section id="weak-supervison-using-snorkel" class="level2" data-number="3.6">
<h2 data-number="3.6" class="anchored" data-anchor-id="weak-supervison-using-snorkel"><span class="header-section-number">3.6</span> Weak Supervison using Snorkel</h2>
<p>We will walk through the process of using <code>Snorkel</code> to build a training set for classifying YouTube comments as spam or not spam. The goal of this tutorial is to illustrate the basic components and concepts of <code>Snorkel</code> in a simple way, but also to dive into the actual process of iteratively developing real applications in <code>Snorkel</code>.</p>
<p>Our goal is to train a classifier over the comment data that can predict whether a comment is spam or not spam. We have access to a large amount of unlabeled data in the form of YouTube comments with some metadata. In order to train a classifier, we need to label our data, <strong>but doing so by hand for real world applications can often be prohibitively slow and expensive.</strong></p>
<p>In these cases, we can turn to a weak supervision approach, using <strong>labeling functions (LFs)</strong> in Snorkel: noisy, programmatic rules and heuristics that assign labels to unlabeled training data.</p>
<p>We’ll dive into the Snorkel API and how we write labeling functions later in this tutorial, but as an example, we can write a LF that labels data points with “http” in the comment text as spam since many spam comments contain links.</p>
<p>We use a <a href="https://archive.ics.uci.edu/ml/datasets/YouTube+Spam+Collection">YouTube comments dataset</a> that consists of YouTube comments from 5 videos. The task is to classify each comment as being</p>
<p>HAM: comments relevant to the video (even very simple ones), or SPAM: irrelevant (often trying to advertise something) or inappropriate messages</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:283,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676864671380,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="ddde3f4e-99a2-4544-cfb8-ca9330ea99bb">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1"></a><span class="op">%%</span><span class="bu">file</span> download_data.sh</span>
<span id="cb53-2"><a href="#cb53-2"></a></span>
<span id="cb53-3"><a href="#cb53-3"></a><span class="co">#!/bin/bash</span></span>
<span id="cb53-4"><a href="#cb53-4"></a><span class="bu">set</span> <span class="op">-</span>euxo pipefail</span>
<span id="cb53-5"><a href="#cb53-5"></a></span>
<span id="cb53-6"><a href="#cb53-6"></a>FILES<span class="op">=</span>( <span class="st">"Youtube01-Psy.csv"</span> <span class="st">"Youtube02-KatyPerry.csv"</span> <span class="st">"Youtube03-LMFAO.csv"</span> <span class="st">"Youtube04-Eminem.csv"</span> <span class="st">"Youtube05-Shakira.csv"</span> )</span>
<span id="cb53-7"><a href="#cb53-7"></a>DATA_URL<span class="op">=</span><span class="st">"http://archive.ics.uci.edu/ml/machine-learning-databases/00380/YouTube-Spam-Collection-v1.zip"</span></span>
<span id="cb53-8"><a href="#cb53-8"></a>RELOAD<span class="op">=</span>false</span>
<span id="cb53-9"><a href="#cb53-9"></a></span>
<span id="cb53-10"><a href="#cb53-10"></a><span class="co"># Check if at least any file is missing. If so, reload all data.</span></span>
<span id="cb53-11"><a href="#cb53-11"></a><span class="cf">for</span> filename <span class="kw">in</span> <span class="st">"$</span><span class="sc">{FILES[@]}</span><span class="st">"</span></span>
<span id="cb53-12"><a href="#cb53-12"></a>do</span>
<span id="cb53-13"><a href="#cb53-13"></a>    <span class="cf">if</span> [ <span class="op">!</span> <span class="op">-</span>e <span class="st">"data/$filename"</span> ]<span class="op">;</span> then</span>
<span id="cb53-14"><a href="#cb53-14"></a>        RELOAD<span class="op">=</span>true</span>
<span id="cb53-15"><a href="#cb53-15"></a>    fi</span>
<span id="cb53-16"><a href="#cb53-16"></a>done</span>
<span id="cb53-17"><a href="#cb53-17"></a></span>
<span id="cb53-18"><a href="#cb53-18"></a><span class="cf">if</span> [ <span class="st">"$RELOAD"</span> <span class="op">=</span> true ]<span class="op">;</span> then</span>
<span id="cb53-19"><a href="#cb53-19"></a>    <span class="cf">if</span> [ <span class="op">-</span>d <span class="st">"data/"</span> ]<span class="op">;</span> then rm <span class="op">-</span>Rf <span class="st">"data/"</span><span class="op">;</span> fi</span>
<span id="cb53-20"><a href="#cb53-20"></a>    mkdir <span class="op">-</span>p data</span>
<span id="cb53-21"><a href="#cb53-21"></a>    curl $DATA_URL <span class="op">&gt;</span> data.<span class="bu">zip</span></span>
<span id="cb53-22"><a href="#cb53-22"></a>    mv data.<span class="bu">zip</span> data<span class="op">/</span></span>
<span id="cb53-23"><a href="#cb53-23"></a>    cd data</span>
<span id="cb53-24"><a href="#cb53-24"></a>    unzip data.<span class="bu">zip</span></span>
<span id="cb53-25"><a href="#cb53-25"></a>    rm data.<span class="bu">zip</span></span>
<span id="cb53-26"><a href="#cb53-26"></a>    rm <span class="op">-</span>rf __MACOSX</span>
<span id="cb53-27"><a href="#cb53-27"></a>    cd ..</span>
<span id="cb53-28"><a href="#cb53-28"></a>fi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Writing download_data.sh</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1"></a><span class="kw">def</span> load_spam_dataset(load_train_labels: <span class="bu">bool</span> <span class="op">=</span> <span class="va">False</span>, split_dev_valid: <span class="bu">bool</span> <span class="op">=</span> <span class="va">False</span>):</span>
<span id="cb55-2"><a href="#cb55-2"></a>    <span class="cf">if</span> os.path.basename(os.getcwd()) <span class="op">==</span> <span class="st">"snorkel-tutorials"</span>:</span>
<span id="cb55-3"><a href="#cb55-3"></a>        os.chdir(<span class="st">"spam"</span>)</span>
<span id="cb55-4"><a href="#cb55-4"></a>    <span class="cf">try</span>:</span>
<span id="cb55-5"><a href="#cb55-5"></a>        subprocess.run([<span class="st">"bash"</span>, <span class="st">"download_data.sh"</span>], check<span class="op">=</span><span class="va">True</span>, stderr<span class="op">=</span>subprocess.PIPE)</span>
<span id="cb55-6"><a href="#cb55-6"></a>    <span class="cf">except</span> subprocess.CalledProcessError <span class="im">as</span> e:</span>
<span id="cb55-7"><a href="#cb55-7"></a>        <span class="bu">print</span>(e.stderr.decode())</span>
<span id="cb55-8"><a href="#cb55-8"></a>        <span class="cf">raise</span> e</span>
<span id="cb55-9"><a href="#cb55-9"></a>    filenames <span class="op">=</span> <span class="bu">sorted</span>(glob.glob(<span class="st">"data/Youtube*.csv"</span>))</span>
<span id="cb55-10"><a href="#cb55-10"></a></span>
<span id="cb55-11"><a href="#cb55-11"></a>    dfs <span class="op">=</span> []</span>
<span id="cb55-12"><a href="#cb55-12"></a>    <span class="cf">for</span> i, filename <span class="kw">in</span> <span class="bu">enumerate</span>(filenames, start<span class="op">=</span><span class="dv">1</span>):</span>
<span id="cb55-13"><a href="#cb55-13"></a>        df <span class="op">=</span> pd.read_csv(filename)</span>
<span id="cb55-14"><a href="#cb55-14"></a>        <span class="co"># Lowercase column names</span></span>
<span id="cb55-15"><a href="#cb55-15"></a>        df.columns <span class="op">=</span> <span class="bu">map</span>(<span class="bu">str</span>.lower, df.columns)</span>
<span id="cb55-16"><a href="#cb55-16"></a>        <span class="co"># Remove comment_id field</span></span>
<span id="cb55-17"><a href="#cb55-17"></a>        df <span class="op">=</span> df.drop(<span class="st">"comment_id"</span>, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb55-18"><a href="#cb55-18"></a>        <span class="co"># Add field indicating source video</span></span>
<span id="cb55-19"><a href="#cb55-19"></a>        df[<span class="st">"video"</span>] <span class="op">=</span> [i] <span class="op">*</span> <span class="bu">len</span>(df)</span>
<span id="cb55-20"><a href="#cb55-20"></a>        <span class="co"># Rename fields</span></span>
<span id="cb55-21"><a href="#cb55-21"></a>        df <span class="op">=</span> df.rename(columns<span class="op">=</span>{<span class="st">"class"</span>: <span class="st">"label"</span>, <span class="st">"content"</span>: <span class="st">"text"</span>})</span>
<span id="cb55-22"><a href="#cb55-22"></a>        <span class="co"># Shuffle order</span></span>
<span id="cb55-23"><a href="#cb55-23"></a>        df <span class="op">=</span> df.sample(frac<span class="op">=</span><span class="dv">1</span>, random_state<span class="op">=</span><span class="dv">123</span>).reset_index(drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb55-24"><a href="#cb55-24"></a>        dfs.append(df)</span>
<span id="cb55-25"><a href="#cb55-25"></a></span>
<span id="cb55-26"><a href="#cb55-26"></a>    df_train <span class="op">=</span> pd.concat(dfs[:<span class="dv">4</span>])</span>
<span id="cb55-27"><a href="#cb55-27"></a>    df_dev <span class="op">=</span> df_train.sample(<span class="dv">100</span>, random_state<span class="op">=</span><span class="dv">123</span>)</span>
<span id="cb55-28"><a href="#cb55-28"></a></span>
<span id="cb55-29"><a href="#cb55-29"></a>    <span class="cf">if</span> <span class="kw">not</span> load_train_labels:</span>
<span id="cb55-30"><a href="#cb55-30"></a>        df_train[<span class="st">"label"</span>] <span class="op">=</span> np.ones(<span class="bu">len</span>(df_train[<span class="st">"label"</span>])) <span class="op">*</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb55-31"><a href="#cb55-31"></a>    df_valid_test <span class="op">=</span> dfs[<span class="dv">4</span>]</span>
<span id="cb55-32"><a href="#cb55-32"></a>    df_valid, df_test <span class="op">=</span> train_test_split(</span>
<span id="cb55-33"><a href="#cb55-33"></a>        df_valid_test, test_size<span class="op">=</span><span class="dv">250</span>, random_state<span class="op">=</span><span class="dv">123</span>, stratify<span class="op">=</span>df_valid_test.label</span>
<span id="cb55-34"><a href="#cb55-34"></a>    )</span>
<span id="cb55-35"><a href="#cb55-35"></a></span>
<span id="cb55-36"><a href="#cb55-36"></a>    <span class="cf">if</span> split_dev_valid:</span>
<span id="cb55-37"><a href="#cb55-37"></a>        <span class="cf">return</span> df_train, df_dev, df_valid, df_test</span>
<span id="cb55-38"><a href="#cb55-38"></a>    <span class="cf">else</span>:</span>
<span id="cb55-39"><a href="#cb55-39"></a>        <span class="cf">return</span> df_train, df_test</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We split our data into two sets:</p>
<ul>
<li><p><strong>Training Set</strong>: The largest split of the dataset, and the one without any ground truth (“gold”) labels. We will generate labels for these data points with weak supervision.</p></li>
<li><p><strong>Test Set</strong>: A small, standard held-out blind hand-labeled set for final evaluation of our classifier. This set should only be used for final evaluation, not error analysis.</p></li>
</ul>
<blockquote class="blockquote">
<p>Note that in more advanced production settings, we will often further split up the available hand-labeled data into a development split, for getting ideas to write labeling functions, and a validation split for e.g.&nbsp;checking our performance without looking at test set scores, hyperparameter tuning, etc. These splits are omitted for simplicity here.</p>
</blockquote>
<section id="loading-data" class="level3" data-number="3.6.1">
<h3 data-number="3.6.1" class="anchored" data-anchor-id="loading-data"><span class="header-section-number">3.6.1</span> Loading Data</h3>
<p>We load the YouTube comments dataset and create Pandas DataFrame objects for the train and test sets. Snorkel provides native support for several DataFrame-like data structures, including <code>Pandas</code>, <code>Dask</code>, and <code>PySpark</code>.</p>
<p>Each DataFrame consists of the following fields:</p>
<ul>
<li>author: Username of the comment author</li>
<li>data: Date and time the comment was posted</li>
<li>text: Raw text content of the comment</li>
<li>label: Whether the comment is SPAM (1), HAM (0), or UNKNOWN/ABSTAIN (-1)</li>
<li>video: Video the comment is associated with</li>
</ul>
<p>We start by loading our data. The <code>load_spam_dataset()</code> method downloads the raw CSV files from the internet, divides them into splits, converts them into <code>DataFrames</code>, and shuffles them. As mentioned above, the dataset contains comments from 5 of the most popular YouTube videos during a period between 2014 and 2015. <strong>The first four videos’ comments are combined to form the train set. This set has no gold labels. The fifth video is part of the test set.</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1"></a>df_train, df_test <span class="op">=</span> load_spam_dataset()</span>
<span id="cb56-2"><a href="#cb56-2"></a></span>
<span id="cb56-3"><a href="#cb56-3"></a><span class="co"># We pull out the label vectors for ease of use later</span></span>
<span id="cb56-4"><a href="#cb56-4"></a>Y_test <span class="op">=</span> df_test.label.values</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:12,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676864692868,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="777d56a1-8d7d-4fa5-ee41-d5c66d459fee">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1"></a>df_train</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="43">

  <div id="df-7c777fba-b7a5-42a2-93a0-4bda9bb87d52">
    <div class="colab-df-container">
      <div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">author</th>
<th data-quarto-table-cell-role="th">date</th>
<th data-quarto-table-cell-role="th">text</th>
<th data-quarto-table-cell-role="th">label</th>
<th data-quarto-table-cell-role="th">video</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Alessandro leite</td>
<td>2014-11-05T22:21:36</td>
<td>pls http://www10.vakinha.com.br/VaquinhaE.aspx...</td>
<td>-1.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Salim Tayara</td>
<td>2014-11-02T14:33:30</td>
<td>if your like drones, plz subscribe to Kamal Ta...</td>
<td>-1.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Phuc Ly</td>
<td>2014-01-20T15:27:47</td>
<td>go here to check the views :3﻿</td>
<td>-1.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>DropShotSk8r</td>
<td>2014-01-19T04:27:18</td>
<td>Came here to check the views, goodbye.﻿</td>
<td>-1.0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>css403</td>
<td>2014-11-07T14:25:48</td>
<td>i am 2,126,492,636 viewer :D﻿</td>
<td>-1.0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">443</td>
<td>Themayerlife</td>
<td>NaN</td>
<td>Check out my mummy chanel!</td>
<td>-1.0</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">444</td>
<td>Fill Reseni</td>
<td>2015-05-27T17:10:53.724000</td>
<td>The rap: cool Rihanna: STTUUPID﻿</td>
<td>-1.0</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">445</td>
<td>Greg Fils Aimé</td>
<td>NaN</td>
<td>I hope everyone is in good spirits I&amp;#39;m a h...</td>
<td>-1.0</td>
<td>4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">446</td>
<td>Lil M</td>
<td>NaN</td>
<td>Lil m !!!!! Check hi out!!!!! Does live the wa...</td>
<td>-1.0</td>
<td>4</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">447</td>
<td>AvidorFilms</td>
<td>NaN</td>
<td>Please check out my youtube channel! Just uplo...</td>
<td>-1.0</td>
<td>4</td>
</tr>
</tbody>
</table>


<p>1586 rows × 5 columns</p>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-7c777fba-b7a5-42a2-93a0-4bda9bb87d52')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-7c777fba-b7a5-42a2-93a0-4bda9bb87d52 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-7c777fba-b7a5-42a2-93a0-4bda9bb87d52');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1"></a><span class="co"># For clarity, we define constants to represent the class labels for spam, ham, and abstaining.</span></span>
<span id="cb58-2"><a href="#cb58-2"></a>ABSTAIN <span class="op">=</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb58-3"><a href="#cb58-3"></a>HAM <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb58-4"><a href="#cb58-4"></a>SPAM <span class="op">=</span> <span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="writing-labeling-functions-lfs" class="level3" data-number="3.6.2">
<h3 data-number="3.6.2" class="anchored" data-anchor-id="writing-labeling-functions-lfs"><span class="header-section-number">3.6.2</span> Writing Labeling Functions (LFs)</h3>
<p>Labeling functions (LFs) help users encode domain knowledge and other supervision sources programmatically.</p>
<p>LFs are heuristics that take as input a data point and either assign a label to it (in this case, HAM or SPAM) or abstain (don’t assign any label). <strong>Labeling functions can be noisy: they don’t have perfect accuracy and don’t have to label every data point. Moreover, different labeling functions can overlap (label the same data point) and even conflict (assign different labels to the same data point).</strong> This is expected, and we demonstrate how we deal with this later.</p>
<p>Because their only requirement is that they map a data point a label (or abstain), they can wrap a wide variety of forms of supervision.</p>
<p>Typical LF development cycles include multiple iterations of ideation, refining, evaluation, and debugging. A typical cycle consists of the following steps:</p>
<ol type="1">
<li>Look at examples to generate ideas for LFs</li>
<li>Write an initial version of an LF</li>
<li>Spot check its performance by looking at its output on data points in the training set (or development set if available)</li>
<li>Refine and debug to improve coverage or accuracy as necessary</li>
</ol>
<p>Our goal for LF development is to create a high quality set of training labels for our unlabeled dataset, not to label everything or directly create a model for inference using the LFs. The training labels are used to train a separate discriminative model (in this case, one which just uses the comment text) in order to generalize to new, unseen data points. Using this model, we can make predictions for data points that our LFs don’t cover.</p>
<ol type="a">
<li>Pattern-matching LFs (regular expressions)</li>
</ol>
<p>Labeling functions in <code>Snorkel</code> are created with the <code>@labeling_function</code> decorator. <strong>The decorator can be applied to any Python function that returns a label for a single data point.</strong></p>
<blockquote class="blockquote">
<p>See https://realpython.com/primer-on-python-decorators/ for more details about decorators.</p>
</blockquote>
<p>Let’s start developing an LF to catch instances of commenters trying to get people to “check out” their channel, video, or website. We’ll start by just looking for the exact string “check out” in the text, and see how that compares to looking for just “check” in the text. For the two versions of our rule, we’ll write a Python function over a single data point that express it, then add the decorator.</p>
<p>One dominant pattern in the comments that look like spam (which we might know from prior domain experience, or from inspection of a few training data points) is the use of the phrase <strong>“check out”</strong> (e.g.&nbsp;“check out my channel”). Let’s start with that.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1"></a><span class="at">@labeling_function</span>()</span>
<span id="cb59-2"><a href="#cb59-2"></a><span class="kw">def</span> regex_check_out(x):</span>
<span id="cb59-3"><a href="#cb59-3"></a>    <span class="cf">return</span> SPAM <span class="cf">if</span> re.search(<span class="vs">r"check.*out"</span>, x.text, flags<span class="op">=</span>re.I) <span class="cf">else</span> ABSTAIN</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ol start="2" type="a">
<li>Keyword LFs</li>
</ol>
<p>For text applications, some of the simplest LFs to write are often just keyword lookups. These will often follow the same execution pattern, so we can create a template and use the resources parameter to pass in LF-specific keywords. Similar to the <code>labeling_function</code> decorator, the <code>LabelingFunction</code> class wraps a Python function (the <code>f</code> parameter), and we can use the resources parameter to pass in keyword arguments (here, our keywords to lookup) to said function.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1"></a><span class="kw">def</span> keyword_lookup(x, keywords, label):</span>
<span id="cb60-2"><a href="#cb60-2"></a>    <span class="cf">if</span> <span class="bu">any</span>(word <span class="kw">in</span> x.text.lower() <span class="cf">for</span> word <span class="kw">in</span> keywords):</span>
<span id="cb60-3"><a href="#cb60-3"></a>        <span class="cf">return</span> label</span>
<span id="cb60-4"><a href="#cb60-4"></a>    <span class="cf">return</span> ABSTAIN</span>
<span id="cb60-5"><a href="#cb60-5"></a></span>
<span id="cb60-6"><a href="#cb60-6"></a></span>
<span id="cb60-7"><a href="#cb60-7"></a><span class="kw">def</span> make_keyword_lf(keywords, label<span class="op">=</span>SPAM):</span>
<span id="cb60-8"><a href="#cb60-8"></a>    <span class="cf">return</span> LabelingFunction(</span>
<span id="cb60-9"><a href="#cb60-9"></a>        name<span class="op">=</span><span class="ss">f"keyword_</span><span class="sc">{</span>keywords[<span class="dv">0</span>]<span class="sc">}</span><span class="ss">"</span>,</span>
<span id="cb60-10"><a href="#cb60-10"></a>        f<span class="op">=</span>keyword_lookup,</span>
<span id="cb60-11"><a href="#cb60-11"></a>        resources<span class="op">=</span><span class="bu">dict</span>(keywords<span class="op">=</span>keywords, label<span class="op">=</span>label),</span>
<span id="cb60-12"><a href="#cb60-12"></a>    )</span>
<span id="cb60-13"><a href="#cb60-13"></a></span>
<span id="cb60-14"><a href="#cb60-14"></a></span>
<span id="cb60-15"><a href="#cb60-15"></a><span class="co">"""Spam comments talk about 'my channel', 'my video', etc."""</span></span>
<span id="cb60-16"><a href="#cb60-16"></a>keyword_my <span class="op">=</span> make_keyword_lf(keywords<span class="op">=</span>[<span class="st">"my"</span>])</span>
<span id="cb60-17"><a href="#cb60-17"></a></span>
<span id="cb60-18"><a href="#cb60-18"></a><span class="co">"""Spam comments ask users to subscribe to their channels."""</span></span>
<span id="cb60-19"><a href="#cb60-19"></a>keyword_subscribe <span class="op">=</span> make_keyword_lf(keywords<span class="op">=</span>[<span class="st">"subscribe"</span>])</span>
<span id="cb60-20"><a href="#cb60-20"></a></span>
<span id="cb60-21"><a href="#cb60-21"></a><span class="co">"""Spam comments post links to other channels."""</span></span>
<span id="cb60-22"><a href="#cb60-22"></a>keyword_link <span class="op">=</span> make_keyword_lf(keywords<span class="op">=</span>[<span class="st">"http"</span>])</span>
<span id="cb60-23"><a href="#cb60-23"></a></span>
<span id="cb60-24"><a href="#cb60-24"></a><span class="co">"""Spam comments suspicious."""</span></span>
<span id="cb60-25"><a href="#cb60-25"></a>keyword_guys <span class="op">=</span> make_keyword_lf(keywords<span class="op">=</span>[<span class="st">"guys"</span>])</span>
<span id="cb60-26"><a href="#cb60-26"></a></span>
<span id="cb60-27"><a href="#cb60-27"></a><span class="co">"""Spam comments make requests rather than commenting."""</span></span>
<span id="cb60-28"><a href="#cb60-28"></a>keyword_please <span class="op">=</span> make_keyword_lf(keywords<span class="op">=</span>[<span class="st">"please"</span>, <span class="st">"plz"</span>])</span>
<span id="cb60-29"><a href="#cb60-29"></a></span>
<span id="cb60-30"><a href="#cb60-30"></a></span>
<span id="cb60-31"><a href="#cb60-31"></a></span>
<span id="cb60-32"><a href="#cb60-32"></a><span class="co">"""Ham comments actually talk about the video's content."""</span></span>
<span id="cb60-33"><a href="#cb60-33"></a>keyword_song <span class="op">=</span> make_keyword_lf(keywords<span class="op">=</span>[<span class="st">"song"</span>], label<span class="op">=</span>HAM)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ol start="3" type="a">
<li>Heuristic LFs There may other heuristics or “rules of thumb” that you come up with as you look at the data. So long as you can express it in a function, it’s a viable LF!</li>
</ol>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1"></a><span class="at">@labeling_function</span>()</span>
<span id="cb61-2"><a href="#cb61-2"></a><span class="kw">def</span> short_comment(x):</span>
<span id="cb61-3"><a href="#cb61-3"></a>    <span class="co">"""Ham comments are often short, such as 'cool video!'"""</span></span>
<span id="cb61-4"><a href="#cb61-4"></a>    <span class="cf">return</span> HAM <span class="cf">if</span> <span class="bu">len</span>(x.text.split()) <span class="op">&lt;</span> <span class="dv">5</span> <span class="cf">else</span> ABSTAIN</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1"></a>lfs <span class="op">=</span> [</span>
<span id="cb62-2"><a href="#cb62-2"></a>    keyword_my,</span>
<span id="cb62-3"><a href="#cb62-3"></a>    keyword_subscribe,</span>
<span id="cb62-4"><a href="#cb62-4"></a>    keyword_link,</span>
<span id="cb62-5"><a href="#cb62-5"></a>    keyword_guys,</span>
<span id="cb62-6"><a href="#cb62-6"></a>    keyword_please,</span>
<span id="cb62-7"><a href="#cb62-7"></a>    keyword_song,</span>
<span id="cb62-8"><a href="#cb62-8"></a>    regex_check_out,</span>
<span id="cb62-9"><a href="#cb62-9"></a>    short_comment,</span>
<span id="cb62-10"><a href="#cb62-10"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>To apply one or more LFs that we’ve written to a collection of data points, we use an <code>LFApplier</code>. Because our data points are represented with a <code>Pandas</code> <code>DataFrame</code> in this tutorial, we use the <code>PandasLFApplier</code>. Correspondingly, a single data point <code>x</code> that’s passed into our LFs will be a <code>Pandas</code> <code>Series</code> object.</p>
<p>It’s important to note that these LFs will work for any object with an attribute named text, not just <code>Pandas</code> objects. <code>Snorkel</code> has several other appliers for different data point collection types which you can browse in the https://snorkel.readthedocs.io/en/master/packages/labeling.html.</p>
<p>The output of the <code>apply(...)</code> method is a label matrix, a fundamental concept in <code>Snorkel</code>. It’s a <code>NumPy</code> array <code>L</code> with one column for each LF and one row for each data point, where <code>L[i, j]</code> is the label that the jth labeling function output for the ith data point. We’ll create a label matrix for the train set.</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:305,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676864999338,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="a1445d36-d73a-4094-8f28-bdeea45eab0e">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1"></a>applier <span class="op">=</span> PandasLFApplier(lfs<span class="op">=</span>lfs)</span>
<span id="cb63-2"><a href="#cb63-2"></a>L_train <span class="op">=</span> applier.<span class="bu">apply</span>(df<span class="op">=</span>df_train)</span>
<span id="cb63-3"><a href="#cb63-3"></a>L_test <span class="op">=</span> applier.<span class="bu">apply</span>(df<span class="op">=</span>df_test)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>100%|██████████| 1586/1586 [00:00&lt;00:00, 9646.05it/s]
100%|██████████| 250/250 [00:00&lt;00:00, 8692.21it/s]</code></pre>
</div>
</div>
<p>We can easily calculate the coverage of these LFs (i.e., the percentage of the dataset that they label) as follows:</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:294,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865059151,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="9cf37bf6-d2eb-45a0-9b0e-0eba95068ec1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1"></a>coverage <span class="op">=</span> (L_train <span class="op">!=</span> ABSTAIN).mean(axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb65-2"><a href="#cb65-2"></a>coverage</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="51">
<pre><code>array([0.19861286, 0.12736444, 0.11916772, 0.05674653, 0.11223203,
       0.14186633, 0.23392182, 0.22572509])</code></pre>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:1,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865059432,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="ce7d5988-c54b-4429-e40b-8e4c608e4b7c">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1"></a>L_train</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="52">
<pre><code>array([[-1, -1,  1, ..., -1, -1, -1],
       [-1,  1, -1, ..., -1, -1, -1],
       [-1, -1, -1, ..., -1, -1, -1],
       ...,
       [ 1,  1, -1, ..., -1,  1, -1],
       [-1,  1, -1, ..., -1,  1, -1],
       [ 1, -1, -1, ..., -1,  1, -1]])</code></pre>
</div>
</div>
<p>Lots of statistics about labeling functions - like coverage - are useful when building any <code>Snorkel</code> application. So Snorkel provides tooling for common LF analyses using the <code>LFAnalysis</code> utility.</p>
<p>Checkout the statistics here <a href="https://snorkel.readthedocs.io/en/master/packages/_autosummary/labeling/snorkel.labeling.LFAnalysis.html">https://snorkel.readthedocs.io/en/master/packages/_autosummary/labeling/snorkel.labeling.LFAnalysis.html</a></p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:285,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865064220,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="94a4e718-1001-410e-8b30-9fa11101c580">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1"></a>LFAnalysis(L<span class="op">=</span>L_train, lfs<span class="op">=</span>lfs).lf_summary()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="53">

  <div id="df-8c6b4506-782c-4433-b0f9-e1e70c72abaf">
    <div class="colab-df-container">
      <div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">j</th>
<th data-quarto-table-cell-role="th">Polarity</th>
<th data-quarto-table-cell-role="th">Coverage</th>
<th data-quarto-table-cell-role="th">Overlaps</th>
<th data-quarto-table-cell-role="th">Conflicts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">keyword_my</td>
<td>0</td>
<td>[1]</td>
<td>0.198613</td>
<td>0.172131</td>
<td>0.044136</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">keyword_subscribe</td>
<td>1</td>
<td>[1]</td>
<td>0.127364</td>
<td>0.092055</td>
<td>0.026482</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">keyword_http</td>
<td>2</td>
<td>[1]</td>
<td>0.119168</td>
<td>0.083859</td>
<td>0.051702</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">keyword_guys</td>
<td>3</td>
<td>[1]</td>
<td>0.056747</td>
<td>0.055485</td>
<td>0.005044</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">keyword_please</td>
<td>4</td>
<td>[1]</td>
<td>0.112232</td>
<td>0.104666</td>
<td>0.023960</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">keyword_song</td>
<td>5</td>
<td>[0]</td>
<td>0.141866</td>
<td>0.071879</td>
<td>0.045397</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">regex_check_out</td>
<td>6</td>
<td>[1]</td>
<td>0.233922</td>
<td>0.116015</td>
<td>0.022068</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">short_comment</td>
<td>7</td>
<td>[0]</td>
<td>0.225725</td>
<td>0.100883</td>
<td>0.074401</td>
</tr>
</tbody>
</table>


</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-8c6b4506-782c-4433-b0f9-e1e70c72abaf')" title="Convert this dataframe to an interactive table." style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewbox="0 0 24 24" width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"></path>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"></path><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"></path>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-8c6b4506-782c-4433-b0f9-e1e70c72abaf button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-8c6b4506-782c-4433-b0f9-e1e70c72abaf');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<p>Our goal is now to convert the labels from our LFs into a single noise-aware probabilistic (or confidence-weighted) label per data point. A simple baseline for doing this is to take the majority vote on a per-data point basis: <strong>if more LFs voted SPAM than HAM, label it SPAM (and vice versa)</strong>. We can test this with the <code>MajorityLabelVoter</code> baseline model.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1"></a>majority_model <span class="op">=</span> MajorityLabelVoter()</span>
<span id="cb70-2"><a href="#cb70-2"></a>preds_train <span class="op">=</span> majority_model.predict(L<span class="op">=</span>L_train)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The LFs may have varying properties and should not be treated identically. In addition to having varied accuracies and coverages, LFs may be correlated, resulting in certain signals being overrepresented in a majority-vote-based model.</p>
<p>To handle these issues appropriately, we will instead use a more sophisticated Snorkel <code>LabelModel</code> to combine the outputs of the LFs. <strong>This model will ultimately produce a single set of noise-aware training labels, which are probabilistic or confidence-weighted labels. We will then use these labels to train a classifier for our task.</strong></p>
<p>Note that no gold labels are used during the training process. The only information we need is the label matrix, which contains the output of the LFs on our training set. The <code>LabelModel</code> is able to learn weights for the labeling functions using only the label matrix as input. We also specify the <strong>cardinality, or number of classes.</strong></p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:764,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865120195,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="8012c5a6-48d8-41bc-9166-534b2a79aa40">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1"></a>label_model <span class="op">=</span> LabelModel(cardinality<span class="op">=</span><span class="dv">2</span>, verbose<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb71-2"><a href="#cb71-2"></a>label_model.fit(L_train<span class="op">=</span>L_train, n_epochs<span class="op">=</span><span class="dv">500</span>, log_freq<span class="op">=</span><span class="dv">100</span>, seed<span class="op">=</span><span class="dv">123</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>100%|██████████| 500/500 [00:00&lt;00:00, 1051.93epoch/s]</code></pre>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:256,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865124497,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="4cfb9f8b-b4c2-4013-f0e7-f0a565aad663">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1"></a>majority_acc <span class="op">=</span> majority_model.score(L<span class="op">=</span>L_test, Y<span class="op">=</span>Y_test, tie_break_policy<span class="op">=</span><span class="st">"random"</span>)[</span>
<span id="cb73-2"><a href="#cb73-2"></a>    <span class="st">"accuracy"</span></span>
<span id="cb73-3"><a href="#cb73-3"></a>]</span>
<span id="cb73-4"><a href="#cb73-4"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span><span class="st">'Majority Vote Accuracy:'</span><span class="sc">:&lt;25}</span><span class="ss"> </span><span class="sc">{</span>majority_acc <span class="op">*</span> <span class="dv">100</span><span class="sc">:.1f}</span><span class="ss">%"</span>)</span>
<span id="cb73-5"><a href="#cb73-5"></a></span>
<span id="cb73-6"><a href="#cb73-6"></a>label_model_acc <span class="op">=</span> label_model.score(L<span class="op">=</span>L_test, Y<span class="op">=</span>Y_test, tie_break_policy<span class="op">=</span><span class="st">"random"</span>)[</span>
<span id="cb73-7"><a href="#cb73-7"></a>    <span class="st">"accuracy"</span></span>
<span id="cb73-8"><a href="#cb73-8"></a>]</span>
<span id="cb73-9"><a href="#cb73-9"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span><span class="st">'Label Model Accuracy:'</span><span class="sc">:&lt;25}</span><span class="ss"> </span><span class="sc">{</span>label_model_acc <span class="op">*</span> <span class="dv">100</span><span class="sc">:.1f}</span><span class="ss">%"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Majority Vote Accuracy:   86.4%
Label Model Accuracy:     84.8%</code></pre>
</div>
</div>
<p>The majority vote model or more sophisticated <code>LabelModel</code> could in principle be used directly as a classifier if the outputs of our labeling functions were made available at test time. However, these models (i.e.&nbsp;these re-weighted combinations of our labeling function’s votes) will abstain on the data points that our labeling functions don’t cover.</p>
<p>We will instead use the outputs of the <code>LabelModel</code> as training labels to train a discriminative classifier which can generalize beyond the labeling function outputs to see if we can improve performance further. This classifier will also only need the text of the comment to make predictions, making it much more suitable for inference over unseen comments.</p>
<p>Let’s briefly confirm that the labels the <code>LabelModel</code> produces are indeed probabilistic in nature. The following histogram shows the confidences we have that each data point has the label SPAM. The points we are least certain about will have labels close to 0.5.</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:327,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865176412,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="2c4e0450-4102-43d0-9248-9f055c3a77ed">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1"></a><span class="kw">def</span> plot_probabilities_histogram(Y):</span>
<span id="cb75-2"><a href="#cb75-2"></a>    plt.hist(Y, bins<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb75-3"><a href="#cb75-3"></a>    plt.xlabel(<span class="st">"Probability of SPAM"</span>)</span>
<span id="cb75-4"><a href="#cb75-4"></a>    plt.ylabel(<span class="st">"Number of data points"</span>)</span>
<span id="cb75-5"><a href="#cb75-5"></a>    plt.show()</span>
<span id="cb75-6"><a href="#cb75-6"></a></span>
<span id="cb75-7"><a href="#cb75-7"></a></span>
<span id="cb75-8"><a href="#cb75-8"></a>probs_train <span class="op">=</span> label_model.predict_proba(L<span class="op">=</span>L_train)</span>
<span id="cb75-9"><a href="#cb75-9"></a>plot_probabilities_histogram(probs_train[:, SPAM])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="02_Dataset_files/figure-html/cell-56-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>As we saw earlier, some of the data points in our train set received no labels from any of our LFs. These data points convey no supervision signal and tend to hurt performance, so we filter them out before training using a built-in utility.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1"></a>df_train_filtered, probs_train_filtered <span class="op">=</span> filter_unlabeled_dataframe(</span>
<span id="cb76-2"><a href="#cb76-2"></a>    X<span class="op">=</span>df_train, y<span class="op">=</span>probs_train, L<span class="op">=</span>L_train</span>
<span id="cb76-3"><a href="#cb76-3"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="training-a-classifier" class="level3" data-number="3.6.3">
<h3 data-number="3.6.3" class="anchored" data-anchor-id="training-a-classifier"><span class="header-section-number">3.6.3</span> Training a Classifier</h3>
<p>In this final section of the tutorial, we’ll use the probabilistic training labels we generated in the last section to train a classifier for our task. The output of the <code>Snorkel</code> <code>LabelModel</code> is just a set of labels which can be used with most popular libraries for performing supervised learning. Note that typically, <code>Snorkel</code> is used (and really shines!) with much more complex, training data-hungry models, but we will use Logistic Regression here for simplicity of exposition.</p>
<p>For simplicity and speed, we use a simple “bag of n-grams” feature representation: each data point is represented by a one-hot vector marking which words or 2-word combinations are present in the comment text.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1"></a>vectorizer <span class="op">=</span> CountVectorizer(ngram_range<span class="op">=</span>(<span class="dv">1</span>, <span class="dv">5</span>))</span>
<span id="cb77-2"><a href="#cb77-2"></a>X_train <span class="op">=</span> vectorizer.fit_transform(df_train_filtered.text.tolist())</span>
<span id="cb77-3"><a href="#cb77-3"></a>X_test <span class="op">=</span> vectorizer.transform(df_test.text.tolist())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>If we want to use a library or model that doesn’t accept probabilistic labels (such as <code>Scikit-Learn</code>), we can instead replace each label distribution with the label of the class that has the maximum probability. This can easily be done using the <code>probs_to_preds</code> helper method. <strong>We do note, however, that this transformation is lossy</strong>, as we no longer have values for our confidence in each label.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1"></a>preds_train_filtered <span class="op">=</span> probs_to_preds(probs<span class="op">=</span>probs_train_filtered)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We then use these labels to train a classifier as usual.</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:273,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865218658,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="fe3a035f-81a8-4f48-a5c6-0e20a631e1e4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1"></a>sklearn_model <span class="op">=</span> LogisticRegression(C<span class="op">=</span><span class="fl">1e2</span>, solver<span class="op">=</span><span class="st">"liblinear"</span>)</span>
<span id="cb79-2"><a href="#cb79-2"></a>sklearn_model.fit(X<span class="op">=</span>X_train, y<span class="op">=</span>preds_train_filtered)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="62">
<pre><code>LogisticRegression(C=100.0, solver='liblinear')</code></pre>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:6,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865220047,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="b711ea17-36a5-46e2-d21f-1f5b83e3e6ee">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1"></a><span class="bu">print</span>(<span class="ss">f"Test Accuracy: </span><span class="sc">{</span>sklearn_model<span class="sc">.</span>score(X<span class="op">=</span>X_test, y<span class="op">=</span>Y_test) <span class="op">*</span> <span class="dv">100</span><span class="sc">:.1f}</span><span class="ss">%"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Test Accuracy: 91.2%</code></pre>
</div>
</div>
<p>We observe an additional boost in accuracy over the <code>LabelModel</code> by multiple points! This is in part because the discriminative model generalizes beyond the labeling function’s labels and makes good predictions on all data points, not just the ones covered by labeling functions. By using the label model to transfer the domain knowledge encoded in our LFs to the discriminative model, we were able to generalize beyond the noisy labeling heuristics.</p>
</section>
</section>
<section id="data-augmentation-using-albumentations" class="level2" data-number="3.7">
<h2 data-number="3.7" class="anchored" data-anchor-id="data-augmentation-using-albumentations"><span class="header-section-number">3.7</span> Data augmentation using Albumentations</h2>
<p><code>Scikit-image</code> reads an image in RGB format which is consistent with <code>Albumentations</code>.</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:734,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865259947,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="b77941fc-9e00-40ea-f54d-1d8d2245ca1b">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1"></a><span class="op">!</span>wget https:<span class="op">//</span>raw.githubusercontent.com<span class="op">/</span>albumentations<span class="op">-</span>team<span class="op">/</span>albumentations_examples<span class="op">/</span>master<span class="op">/</span>notebooks<span class="op">/</span>images<span class="op">/</span>image_3.jpg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>--2023-02-20 03:54:21--  https://raw.githubusercontent.com/albumentations-team/albumentations_examples/master/notebooks/images/image_3.jpg
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.108.133, 185.199.109.133, 185.199.110.133, ...
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|185.199.108.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 58095 (57K) [image/jpeg]
Saving to: ‘image_3.jpg’

image_3.jpg         100%[===================&gt;]  56.73K  --.-KB/s    in 0.007s  

2023-02-20 03:54:21 (7.89 MB/s) - ‘image_3.jpg’ saved [58095/58095]
</code></pre>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:1661,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865265158,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="a1f03356-4fb7-4686-99a4-64195f8cf71b">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1"></a>image <span class="op">=</span> io.imread(<span class="st">'image_3.jpg'</span>)</span>
<span id="cb85-2"><a href="#cb85-2"></a>visualize(image)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="02_Dataset_files/figure-html/cell-63-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>We fix the random seed for visualization purposes, so the augmentation will always produce the same result. In a real computer vision pipeline, <strong>you shouldn’t fix the random seed</strong> before applying a transform to the image because, in that case, the pipeline will always output the same image. The purpose of image augmentation is to use different transformations each time</p>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:1488,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865280190,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="1f783a46-cf0a-4404-f9d7-096bc7f6f1a3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1"></a><span class="co"># Define a single augmentation, pass the image to it and receive the augmented image</span></span>
<span id="cb86-2"><a href="#cb86-2"></a>transform <span class="op">=</span> A.HorizontalFlip(p<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb86-3"><a href="#cb86-3"></a>random.seed(<span class="dv">7</span>)</span>
<span id="cb86-4"><a href="#cb86-4"></a>augmented_image <span class="op">=</span> transform(image<span class="op">=</span>image)[<span class="st">'image'</span>]</span>
<span id="cb86-5"><a href="#cb86-5"></a>visualize(augmented_image)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="02_Dataset_files/figure-html/cell-64-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:1624,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865295300,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="59382b4a-94fd-44f1-87a0-1f3d8febf1fa">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1"></a>transform <span class="op">=</span> A.ShiftScaleRotate(p<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb87-2"><a href="#cb87-2"></a>random.seed(<span class="dv">7</span>) </span>
<span id="cb87-3"><a href="#cb87-3"></a>augmented_image <span class="op">=</span> transform(image<span class="op">=</span>image)[<span class="st">'image'</span>]</span>
<span id="cb87-4"><a href="#cb87-4"></a>visualize(augmented_image)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="02_Dataset_files/figure-html/cell-65-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:2179,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676865311262,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="2a136c7e-c80a-4701-d6e4-d5109b4c2ff2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1"></a><span class="co">#Define an augmentation pipeline using Compose, pass the image to it and receive the augmented imag</span></span>
<span id="cb88-2"><a href="#cb88-2"></a>transform <span class="op">=</span> A.Compose([</span>
<span id="cb88-3"><a href="#cb88-3"></a>    A.CLAHE(),</span>
<span id="cb88-4"><a href="#cb88-4"></a>    A.RandomRotate90(),</span>
<span id="cb88-5"><a href="#cb88-5"></a>    A.Transpose(),</span>
<span id="cb88-6"><a href="#cb88-6"></a>    A.ShiftScaleRotate(shift_limit<span class="op">=</span><span class="fl">0.0625</span>, scale_limit<span class="op">=</span><span class="fl">0.50</span>, rotate_limit<span class="op">=</span><span class="dv">45</span>, p<span class="op">=</span><span class="fl">.75</span>),</span>
<span id="cb88-7"><a href="#cb88-7"></a>    A.Blur(blur_limit<span class="op">=</span><span class="dv">3</span>),</span>
<span id="cb88-8"><a href="#cb88-8"></a>    A.OpticalDistortion(),</span>
<span id="cb88-9"><a href="#cb88-9"></a>    A.GridDistortion(),</span>
<span id="cb88-10"><a href="#cb88-10"></a>    A.HueSaturationValue(),</span>
<span id="cb88-11"><a href="#cb88-11"></a>])</span>
<span id="cb88-12"><a href="#cb88-12"></a>random.seed(<span class="dv">42</span>) </span>
<span id="cb88-13"><a href="#cb88-13"></a>augmented_image <span class="op">=</span> transform(image<span class="op">=</span>image)[<span class="st">'image'</span>]</span>
<span id="cb88-14"><a href="#cb88-14"></a>visualize(augmented_image)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="02_Dataset_files/figure-html/cell-66-output-1.png" class="img-fluid"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1"></a>io.imsave(<span class="st">'augmented_image.jpg'</span>, augmented_image)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-executioninfo="{&quot;elapsed&quot;:1042,&quot;status&quot;:&quot;ok&quot;,&quot;timestamp&quot;:1676781601826,&quot;user&quot;:{&quot;displayName&quot;:&quot;phonchi chung&quot;,&quot;userId&quot;:&quot;13517391734500420886&quot;},&quot;user_tz&quot;:-480}" data-outputid="3e9d390b-c82a-4670-d5e9-b32d10c762cc">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1"></a>image <span class="op">=</span> io.imread(<span class="st">'augmented_image.jpg'</span>)</span>
<span id="cb90-2"><a href="#cb90-2"></a>visualize(image)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="02_Dataset_files/figure-html/cell-68-output-1.png" class="img-fluid"></p>
</div>
</div>
<p>For more information, please refer to <a href="https://albumentations.ai/docs/#examples">https://albumentations.ai/docs/#examples</a>.</p>
</section>
<section id="reference" class="level2" data-number="3.8">
<h2 data-number="3.8" class="anchored" data-anchor-id="reference"><span class="header-section-number">3.8</span> Reference</h2>
<p>This notebook contains the sample from</p>
<ol type="1">
<li><a href="https://github.com/dennisbakhuis/pigeonXT/blob/master/pigeonXT_Examples.ipynb">https://github.com/dennisbakhuis/pigeonXT/blob/master/pigeonXT_Examples.ipynb</a></li>
<li><a href="https://docs.cleanlab.ai/stable/tutorials/multiannotator.html">https://docs.cleanlab.ai/stable/tutorials/multiannotator.html</a></li>
<li><a href="https://modal-python.readthedocs.io/en/latest/content/examples/interactive_labeling.html_">https://modal-python.readthedocs.io/en/latest/content/examples/interactive_labeling.html_</a></li>
<li><a href="https://modal-python.readthedocs.io/en/latest/content/examples/pool-based_sampling.html">https://modal-python.readthedocs.io/en/latest/content/examples/pool-based_sampling.html</a></li>
<li><a href="https://www.snorkel.org/use-cases/01-spam-tutorial">https://www.snorkel.org/use-cases/01-spam-tutorial</a></li>
<li><a href="https://albumentations.ai/docs/#examples">https://albumentations.ai/docs/#examples</a></li>
</ol>


</section>

</main> <!-- /main -->
<script type="application/vnd.jupyter.widget-state+json">
{"00f6a70fb855469081f286ebf47caf85":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"HTMLModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_f29190884fbb4b4e8e217ebba0911c77","placeholder":"​","style":"IPY_MODEL_3e1e7ff6142c438490012f0c1b210e16","value":"1 of 5 Examples annotated, Current Position: 5 "}},"02da92fbb63a451f8a709b4a5b03081f":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"03a9fbcc61db4691bbb678949392595c":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ToggleButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ToggleButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ToggleButtonView","button_style":"","description":"Thriller","description_tooltip":null,"disabled":false,"icon":"","layout":"IPY_MODEL_7eea5305d8cb49faa5ea07d5170d379f","style":"IPY_MODEL_e73d2a02d2bb4cc0baae8e49dd8d7fd2","tooltip":"","value":true}},"09172797c8b24c89bbe439f049abb6fb":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"","description":"daisy","disabled":true,"icon":"","layout":"IPY_MODEL_f09d8dae84f24314a8addb95297bd03f","style":"IPY_MODEL_f6c56ed594154e0f971e89f4c0e90e25","tooltip":""}},"0a8ba181a060465a9bfd7c639a099287":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"info","description":"prev","disabled":false,"icon":"","layout":"IPY_MODEL_99dc84d560f448cfb3bee71ff5db8934","style":"IPY_MODEL_4256884fdc02415cb5ddb58b47b0cfbb","tooltip":""}},"14bfc2a806354794aa4114efb44e8e5e":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"VBoxModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"VBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"VBoxView","box_style":"","children":["IPY_MODEL_ddbbb655fd4748ab94272521fd2d16da","IPY_MODEL_be1e9d2c814d49dc85fbc77fe1e4003a"],"layout":"IPY_MODEL_3959fbeef9c541fa85c8bab17c3dd4ae"}},"1656362f66e2431794411a43f4067872":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"DescriptionStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"18170459757f440eb4ebd227ccb688db":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ToggleButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ToggleButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ToggleButtonView","button_style":"","description":"Horror","description_tooltip":null,"disabled":false,"icon":"","layout":"IPY_MODEL_e138a7c435814912b407d78da9dbf021","style":"IPY_MODEL_f933e7dbae4047cf8f8bc2bc14eb06d2","tooltip":"","value":true}},"1e0ee28d37db4cb990878683056457bb":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ToggleButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ToggleButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ToggleButtonView","button_style":"","description":"Fantasy","description_tooltip":null,"disabled":false,"icon":"","layout":"IPY_MODEL_c9ae8d6d7c1a49d59801b36d8429b401","style":"IPY_MODEL_67b62bee69da4b2ebd70876c1fc961bd","tooltip":"","value":false}},"1e957f77683440f2825fa07f61cf4470":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"DescriptionStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"1fec84a1c1084085855644fa295ab4f6":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"DescriptionStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"21ae0b6d0ea04817a7ea187d343d3653":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}},"233ce65d65714ef392d278010ad9e47f":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"24a3c29fa2004f34942beb39e7d873a5":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"28cd84cd77a34600bfceb1a7da9bd189":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"296d3f8ac567451b83341697cdb50b1a":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"2f8fe4da488846079a969f0ee84a89e0":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"37a714e8748f473c85a47dc7fffb1a8b":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"3959fbeef9c541fa85c8bab17c3dd4ae":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"3c1c9465f1c74a15aff4c40bbdd2852f":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"3e1e7ff6142c438490012f0c1b210e16":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"DescriptionStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"3e2bcec421ef40a2ac74882103f37b8c":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"","description":"inbetween","disabled":true,"icon":"","layout":"IPY_MODEL_02da92fbb63a451f8a709b4a5b03081f","style":"IPY_MODEL_55d4c89d97fc45e294b36d48575e0760","tooltip":""}},"407a4171a2a948a0a2d47f339c73c73e":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"4256884fdc02415cb5ddb58b47b0cfbb":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}},"51025e41657849d5a04a3470e18944c6":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"HBoxModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_efc91944e85f42a8b0e7557a474e75ce","IPY_MODEL_0a8ba181a060465a9bfd7c639a099287","IPY_MODEL_ba91d11f83f64bd2a42093740eade49b"],"layout":"IPY_MODEL_d045bc56be1a4895a5b214b254e9e2a5"}},"5452b723598f446db77b872d949fce56":{"model_module":"@jupyter-widgets/output","model_module_version":"1.0.0","model_name":"OutputModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/output","_model_module_version":"1.0.0","_model_name":"OutputModel","_view_count":null,"_view_module":"@jupyter-widgets/output","_view_module_version":"1.0.0","_view_name":"OutputView","layout":"IPY_MODEL_f2d2d84fac3a4a28926917fd21e0ca9b","msg_id":"","outputs":[{"data":{"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"},"text/plain":"'Killer klowns from outer space'"},"metadata":{},"output_type":"display_data"}]}},"54a5466dfe7349bca058487aa71c1bce":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"55d4c89d97fc45e294b36d48575e0760":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}},"5c34d162b8284224b5dca5cb8e9875a3":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"info","description":"next","disabled":true,"icon":"","layout":"IPY_MODEL_233ce65d65714ef392d278010ad9e47f","style":"IPY_MODEL_f5ac300f361944889a690d21c38a8b54","tooltip":""}},"5f685ccbf176462992b76f49d0735ae5":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}},"60269b5acb63409087d34a3baa295306":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"info","description":"next","disabled":true,"icon":"","layout":"IPY_MODEL_c4f499ffbfbc4eedb7a68925085e2db9","style":"IPY_MODEL_fd26d619d5ec4bfdbe174b508c4b3167","tooltip":""}},"61407335690040c1b7fe73b5cdeb9f0e":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"6620f1ef55654a21bfa1ffd6422d977a":{"model_module":"@jupyter-widgets/output","model_module_version":"1.0.0","model_name":"OutputModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/output","_model_module_version":"1.0.0","_model_name":"OutputModel","_view_count":null,"_view_module":"@jupyter-widgets/output","_view_module_version":"1.0.0","_view_name":"OutputView","layout":"IPY_MODEL_24a3c29fa2004f34942beb39e7d873a5","msg_id":"","outputs":[{"data":{"image/jpeg":"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\n","text/plain":"<IPython.core.display.Image object>"},"metadata":{},"output_type":"display_data"}]}},"67b62bee69da4b2ebd70876c1fc961bd":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"DescriptionStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"686d56f2ee1842a0ae3a1d19982673e4":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"HBoxModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_b850f0fea8d140d393c13eccb31b25cf","IPY_MODEL_18170459757f440eb4ebd227ccb688db","IPY_MODEL_03a9fbcc61db4691bbb678949392595c"],"layout":"IPY_MODEL_28cd84cd77a34600bfceb1a7da9bd189"}},"6d4baf01c09e43e1938def2e7dc06a7a":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"info","description":"prev","disabled":true,"icon":"","layout":"IPY_MODEL_a3a4606614774a829488f4288e07d6a7","style":"IPY_MODEL_5f685ccbf176462992b76f49d0735ae5","tooltip":""}},"70a435fc90c34afdbfd65848d094147b":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"7130e39d43854b3bb3ecd9b445e495b0":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"HTMLModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_d032ff9a3bc14efe995fb4309d9cf73f","placeholder":"​","style":"IPY_MODEL_1e957f77683440f2825fa07f61cf4470","value":"2 of 3 Examples annotated, Current Position: 3 "}},"743df92cb8c2423c9f48dd12ea6a213a":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"DescriptionStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"74bf28f723e24082885f24f29624a49d":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"7a42fb9de35a4d81a3323a5f5b28d399":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"HBoxModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_5c34d162b8284224b5dca5cb8e9875a3"],"layout":"IPY_MODEL_825ca3ec92e04fc8a067f9ae9bc222bf"}},"7d1776669ff34c46a3dc357fc61aad5a":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"","description":"negative","disabled":true,"icon":"","layout":"IPY_MODEL_aa76c0c749e143a4be4cd654b03a9337","style":"IPY_MODEL_9b6d39ee00d542a39859c64d6c6a82c8","tooltip":""}},"7d757a6cb4b04dfcab76e8bd2b358055":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"7e0eb5fc71c547828071eed9d99a5b9b":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"7eea5305d8cb49faa5ea07d5170d379f":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"825ca3ec92e04fc8a067f9ae9bc222bf":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"82c49c9cfe734e1c8bbd4f4bc6658074":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}},"848fcdce52724b4b94121a76b045e033":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"HBoxModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_f3d4d7e6ba5243c28066ea847b6353fb","IPY_MODEL_e3cb64c713ab4007b06fbf12750af0fb","IPY_MODEL_1e0ee28d37db4cb990878683056457bb"],"layout":"IPY_MODEL_74bf28f723e24082885f24f29624a49d"}},"86505597d16045a1b8f63bf0909652e7":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"VBoxModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"VBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"VBoxView","box_style":"","children":["IPY_MODEL_8a3af7f816e6423880821a4dcbc99728","IPY_MODEL_7a42fb9de35a4d81a3323a5f5b28d399"],"layout":"IPY_MODEL_3c1c9465f1c74a15aff4c40bbdd2852f"}},"8a3af7f816e6423880821a4dcbc99728":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"HBoxModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_09172797c8b24c89bbe439f049abb6fb","IPY_MODEL_df732fa9f2d84decab5bbcd83ab2c785","IPY_MODEL_9bad1312a4df44d4b2dceb75a38edb7b","IPY_MODEL_a5a215ca99f541e4adf29fd60ba5215c"],"layout":"IPY_MODEL_54a5466dfe7349bca058487aa71c1bce"}},"8ade89592dec42f7a37229ae7be095fb":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}},"91125c0cd3914682bc2bd00a6e963d18":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"DescriptionStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"93bac7c2e7404940a37034605de2745c":{"model_module":"@jupyter-widgets/output","model_module_version":"1.0.0","model_name":"OutputModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/output","_model_module_version":"1.0.0","_model_name":"OutputModel","_view_count":null,"_view_module":"@jupyter-widgets/output","_view_module_version":"1.0.0","_view_name":"OutputView","layout":"IPY_MODEL_7e0eb5fc71c547828071eed9d99a5b9b","msg_id":"","outputs":[{"data":{"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"},"text/plain":"'I was really disappointed by the book'"},"metadata":{},"output_type":"display_data"}]}},"96dd63d4dbcb4960a7784eab4e96a085":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"99dc84d560f448cfb3bee71ff5db8934":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"9b6d39ee00d542a39859c64d6c6a82c8":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}},"9bad1312a4df44d4b2dceb75a38edb7b":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"","description":"rose","disabled":true,"icon":"","layout":"IPY_MODEL_2f8fe4da488846079a969f0ee84a89e0","style":"IPY_MODEL_beecd13faf7043a38fddc92e828500ae","tooltip":""}},"a3212d8be4ea4a43a476c49dfeaa0800":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"VBoxModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"VBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"VBoxView","box_style":"","children":["IPY_MODEL_848fcdce52724b4b94121a76b045e033","IPY_MODEL_686d56f2ee1842a0ae3a1d19982673e4","IPY_MODEL_51025e41657849d5a04a3470e18944c6"],"layout":"IPY_MODEL_70a435fc90c34afdbfd65848d094147b"}},"a3a4606614774a829488f4288e07d6a7":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"a5705a66a99e48c29666efb634badba3":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"HTMLModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HTMLModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HTMLView","description":"","description_tooltip":null,"layout":"IPY_MODEL_ed8928d666a6440b8c5ff329076e510f","placeholder":"​","style":"IPY_MODEL_91125c0cd3914682bc2bd00a6e963d18","value":"2 of 2 Examples annotated, Current Position: 2 "}},"a5a215ca99f541e4adf29fd60ba5215c":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"info","description":"prev","disabled":true,"icon":"","layout":"IPY_MODEL_61407335690040c1b7fe73b5cdeb9f0e","style":"IPY_MODEL_b08abbf6dc914c1787a89ec5e0a69369","tooltip":""}},"aa76c0c749e143a4be4cd654b03a9337":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"b06fb78919604f95b8b862eb7d099114":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"b08abbf6dc914c1787a89ec5e0a69369":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}},"b850f0fea8d140d393c13eccb31b25cf":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ToggleButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ToggleButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ToggleButtonView","button_style":"","description":"Science fiction","description_tooltip":null,"disabled":false,"icon":"","layout":"IPY_MODEL_c0d9d7755fce4592864f511e7fd08890","style":"IPY_MODEL_1fec84a1c1084085855644fa295ab4f6","tooltip":"","value":false}},"ba91d11f83f64bd2a42093740eade49b":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"info","description":"next","disabled":true,"icon":"","layout":"IPY_MODEL_b06fb78919604f95b8b862eb7d099114","style":"IPY_MODEL_21ae0b6d0ea04817a7ea187d343d3653","tooltip":""}},"be1e9d2c814d49dc85fbc77fe1e4003a":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"HBoxModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_60269b5acb63409087d34a3baa295306"],"layout":"IPY_MODEL_96dd63d4dbcb4960a7784eab4e96a085"}},"beecd13faf7043a38fddc92e828500ae":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}},"c0d9d7755fce4592864f511e7fd08890":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"c319877529354eefa6554525fe20fd01":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"c4f499ffbfbc4eedb7a68925085e2db9":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"c9ae8d6d7c1a49d59801b36d8429b401":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"cd96ae6ce3d5463793fd38ea56d5e277":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"d032ff9a3bc14efe995fb4309d9cf73f":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"d045bc56be1a4895a5b214b254e9e2a5":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"dbb06995f059408785fa5cbb8c578a09":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}},"ddbbb655fd4748ab94272521fd2d16da":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"HBoxModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"HBoxModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"HBoxView","box_style":"","children":["IPY_MODEL_ef557c5244d0499e9e0a00cd47b0e935","IPY_MODEL_7d1776669ff34c46a3dc357fc61aad5a","IPY_MODEL_3e2bcec421ef40a2ac74882103f37b8c","IPY_MODEL_6d4baf01c09e43e1938def2e7dc06a7a"],"layout":"IPY_MODEL_cd96ae6ce3d5463793fd38ea56d5e277"}},"df732fa9f2d84decab5bbcd83ab2c785":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"","description":"tulip","disabled":true,"icon":"","layout":"IPY_MODEL_7d757a6cb4b04dfcab76e8bd2b358055","style":"IPY_MODEL_dbb06995f059408785fa5cbb8c578a09","tooltip":""}},"e138a7c435814912b407d78da9dbf021":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"e3cb64c713ab4007b06fbf12750af0fb":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ToggleButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ToggleButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ToggleButtonView","button_style":"","description":"Romance","description_tooltip":null,"disabled":false,"icon":"","layout":"IPY_MODEL_c319877529354eefa6554525fe20fd01","style":"IPY_MODEL_1656362f66e2431794411a43f4067872","tooltip":"","value":false}},"e73d2a02d2bb4cc0baae8e49dd8d7fd2":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"DescriptionStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"ed8928d666a6440b8c5ff329076e510f":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"ef557c5244d0499e9e0a00cd47b0e935":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"","description":"positive","disabled":true,"icon":"","layout":"IPY_MODEL_296d3f8ac567451b83341697cdb50b1a","style":"IPY_MODEL_82c49c9cfe734e1c8bbd4f4bc6658074","tooltip":""}},"efc91944e85f42a8b0e7557a474e75ce":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ButtonView","button_style":"info","description":"submit","disabled":false,"icon":"","layout":"IPY_MODEL_407a4171a2a948a0a2d47f339c73c73e","style":"IPY_MODEL_8ade89592dec42f7a37229ae7be095fb","tooltip":""}},"f09d8dae84f24314a8addb95297bd03f":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"f29190884fbb4b4e8e217ebba0911c77":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"f2d2d84fac3a4a28926917fd21e0ca9b":{"model_module":"@jupyter-widgets/base","model_module_version":"1.2.0","model_name":"LayoutModel","state":{"_model_module":"@jupyter-widgets/base","_model_module_version":"1.2.0","_model_name":"LayoutModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"LayoutView","align_content":null,"align_items":null,"align_self":null,"border":null,"bottom":null,"display":null,"flex":null,"flex_flow":null,"grid_area":null,"grid_auto_columns":null,"grid_auto_flow":null,"grid_auto_rows":null,"grid_column":null,"grid_gap":null,"grid_row":null,"grid_template_areas":null,"grid_template_columns":null,"grid_template_rows":null,"height":null,"justify_content":null,"justify_items":null,"left":null,"margin":null,"max_height":null,"max_width":null,"min_height":null,"min_width":null,"object_fit":null,"object_position":null,"order":null,"overflow":null,"overflow_x":null,"overflow_y":null,"padding":null,"right":null,"top":null,"visibility":null,"width":null}},"f3d4d7e6ba5243c28066ea847b6353fb":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ToggleButtonModel","state":{"_dom_classes":[],"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ToggleButtonModel","_view_count":null,"_view_module":"@jupyter-widgets/controls","_view_module_version":"1.5.0","_view_name":"ToggleButtonView","button_style":"","description":"Adventure","description_tooltip":null,"disabled":false,"icon":"","layout":"IPY_MODEL_37a714e8748f473c85a47dc7fffb1a8b","style":"IPY_MODEL_743df92cb8c2423c9f48dd12ea6a213a","tooltip":"","value":false}},"f5ac300f361944889a690d21c38a8b54":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}},"f6c56ed594154e0f971e89f4c0e90e25":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}},"f933e7dbae4047cf8f8bc2bc14eb06d2":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"DescriptionStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"DescriptionStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","description_width":""}},"fd26d619d5ec4bfdbe174b508c4b3167":{"model_module":"@jupyter-widgets/controls","model_module_version":"1.5.0","model_name":"ButtonStyleModel","state":{"_model_module":"@jupyter-widgets/controls","_model_module_version":"1.5.0","_model_name":"ButtonStyleModel","_view_count":null,"_view_module":"@jupyter-widgets/base","_view_module_version":"1.2.0","_view_name":"StyleView","button_color":null,"font_weight":""}}}
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./01_end_to_end_machine_learning_project.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">End-to-end Machine Learning project</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./03_Relational_Database_and_data_wrangling.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Relational Database and data wrangling</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>